const a7_0x54f8ca=a7_0xdca7;(function(_0x3cb421,_0x493243){const _0x86e9e9=a7_0xdca7,_0x4f3951=_0x3cb421();while(!![]){try{const _0x40273d=parseInt(_0x86e9e9(0x89))/0x1+parseInt(_0x86e9e9(0xc2))/0x2+parseInt(_0x86e9e9(0xde))/0x3+-parseInt(_0x86e9e9(0x7b))/0x4+-parseInt(_0x86e9e9(0xda))/0x5*(-parseInt(_0x86e9e9(0xa3))/0x6)+parseInt(_0x86e9e9(0x8e))/0x7*(parseInt(_0x86e9e9(0xb7))/0x8)+-parseInt(_0x86e9e9(0xa0))/0x9*(parseInt(_0x86e9e9(0x7d))/0xa);if(_0x40273d===_0x493243)break;else _0x4f3951['push'](_0x4f3951['shift']());}catch(_0x275846){_0x4f3951['push'](_0x4f3951['shift']());}}}(a7_0x34f3,0xb076c));const {HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE}=require('../../config/constants'),{logger}=require('../../config/logger'),{fetchOrUpdateUserConfig,getGridDetails,startLocalBinarySync,stopLocalBinary}=require(a7_0x54f8ca(0xc7));exports[a7_0x54f8ca(0xd1)]='grid',exports[a7_0x54f8ca(0xa2)]=a7_0x54f8ca(0xca),exports[a7_0x54f8ca(0xbc)]=_0x5d1197=>{const _0x2f03f5=a7_0x54f8ca,_0x1e00d2={};_0x1e00d2['UtJgu']=_0x2f03f5(0x84),_0x1e00d2[_0x2f03f5(0xdb)]=_0x2f03f5(0xac),_0x1e00d2[_0x2f03f5(0x98)]='Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x1e00d2[_0x2f03f5(0x90)]=_0x2f03f5(0xcc),_0x1e00d2[_0x2f03f5(0x91)]='Optional\x20boolean\x20argument\x20to\x20create\x20private\x20connection\x20between\x20grid\x20and\x20your\x20existing\x20staging\x20or\x20local\x20development\x20environment.',_0x1e00d2[_0x2f03f5(0xc9)]=_0x2f03f5(0xb3),_0x1e00d2[_0x2f03f5(0xd3)]=_0x2f03f5(0xa4);const _0x1cbc43=_0x1e00d2,_0x332c58={};_0x332c58[_0x2f03f5(0xd8)]=_0x1cbc43['UtJgu'],_0x332c58[_0x2f03f5(0x80)]=_0x1cbc43[_0x2f03f5(0xdb)];const _0x2e5838={};_0x2e5838[_0x2f03f5(0xd8)]=_0x1cbc43['jwNFs'],_0x2e5838[_0x2f03f5(0x80)]=_0x1cbc43[_0x2f03f5(0xdb)];const _0x2a5fe6={};_0x2a5fe6[_0x2f03f5(0x8a)]=!![],_0x2a5fe6[_0x2f03f5(0xd8)]=_0x1cbc43[_0x2f03f5(0x90)],_0x2a5fe6['type']=_0x1cbc43[_0x2f03f5(0xdb)];const _0x4054fe={};_0x4054fe[_0x2f03f5(0xd8)]=_0x1cbc43[_0x2f03f5(0x91)],_0x4054fe['type']=_0x1cbc43[_0x2f03f5(0xdb)];const _0x480228={};_0x480228[_0x2f03f5(0xd8)]=_0x1cbc43[_0x2f03f5(0xc9)],_0x480228[_0x2f03f5(0x80)]=_0x1cbc43['KEBUv'];const _0x2ca5b7={};return _0x2ca5b7[_0x2f03f5(0x82)]=_0x332c58,_0x2ca5b7[_0x2f03f5(0xd4)]=_0x2e5838,_0x2ca5b7[_0x2f03f5(0xaf)]=_0x2a5fe6,_0x2ca5b7[_0x2f03f5(0x8c)]=_0x4054fe,_0x2ca5b7[_0x2f03f5(0x92)]=_0x480228,_0x5d1197[_0x2f03f5(0xba)](HELP_HEADER_MESSAGE[_0x2f03f5(0xc4)])[_0x2f03f5(0xad)](HELP_FOOTER_MESSAGE)[_0x2f03f5(0x86)](_0x2ca5b7)['help'](_0x1cbc43[_0x2f03f5(0xd3)])[_0x2f03f5(0xa9)];},exports['handler']=async _0x438faf=>{const _0x60c034=a7_0x54f8ca,_0x1bdabe={'zbfKq':_0x60c034(0x84),'ZtpAc':_0x60c034(0xac),'WUAzZ':_0x60c034(0xc8),'CAitZ':_0x60c034(0xcc),'BUWnt':'Optional\x20boolean\x20argument\x20to\x20create\x20private\x20connection\x20between\x20grid\x20and\x20your\x20existing\x20staging\x20or\x20local\x20development\x20environment.','bLcXs':'Advance\x20options\x20for\x20Browserstack\x20Local','TlioG':_0x60c034(0xa4),'SJisn':function(_0x4980fe,_0x9568c2){return _0x4980fe===_0x9568c2;},'gjHiB':_0x60c034(0x8d),'RFHUt':function(_0x51c151,_0x593368){return _0x51c151(_0x593368);},'rZVFi':function(_0x433022,_0xf90c5f){return _0x433022(_0xf90c5f);},'Ejqaa':_0x60c034(0xd5),'hQnMh':_0x60c034(0x9a),'VIoPL':_0x60c034(0xc1),'scefs':function(_0x2a96e4,_0x17f0bc){return _0x2a96e4==_0x17f0bc;},'lMvOW':_0x60c034(0xaa),'AXfdI':function(_0x22c5c1,_0x598660){return _0x22c5c1==_0x598660;},'mwldb':function(_0x30ab9d,_0x3d31f8){return _0x30ab9d(_0x3d31f8);},'jzLfk':function(_0x26800e,_0x4a3215){return _0x26800e==_0x4a3215;},'zBJKI':function(_0x1d1321,_0x172197){return _0x1d1321(_0x172197);},'FfKuL':function(_0x349ce8,_0x326b97,_0xda163a){return _0x349ce8(_0x326b97,_0xda163a);},'ATEJV':function(_0x5da9f7,_0x42d3b9){return _0x5da9f7&&_0x42d3b9;},'IKolL':_0x60c034(0x8b),'HAnqY':function(_0x39eefe,_0x1487da){return _0x39eefe(_0x1487da);},'sqfjP':function(_0x43cbd3,_0x38a7c2,_0x4c3afd,_0x4193c0){return _0x43cbd3(_0x38a7c2,_0x4c3afd,_0x4193c0);},'JFKcr':_0x60c034(0x99),'YktBe':function(_0x2d96e9,_0x1cd7c1){return _0x2d96e9===_0x1cd7c1;},'BBJce':_0x60c034(0xa6),'dhcEx':function(_0x948e6e,_0x38beb0){return _0x948e6e!==_0x38beb0;},'Eeppf':_0x60c034(0x9b),'DhpXp':_0x60c034(0xa5),'yzKfD':_0x60c034(0xb8),'hdYjJ':function(_0x250122,_0x544d3e){return _0x250122===_0x544d3e;},'krMYM':_0x60c034(0x7e),'cDjsg':function(_0x18de0f,_0x5b6d7d){return _0x18de0f(_0x5b6d7d);}};let _0x1e78ce=_0x438faf[_0x60c034(0x7f)],_0x68e94a=_0x438faf[_0x60c034(0xd0)],_0x151add=_0x438faf[_0x60c034(0x9e)];const _0x4a8132=_0xf8a5ac=>{const _0x2ad739=_0x60c034;if(_0x1bdabe[_0x2ad739(0xdd)](_0x1bdabe['gjHiB'],_0x1bdabe['gjHiB']))logger[_0x2ad739(0xc6)](_0xf8a5ac),process[_0x2ad739(0xb1)](0x1);else{const _0x37fa9b={};_0x37fa9b[_0x2ad739(0xd8)]=_0x1bdabe[_0x2ad739(0xbf)],_0x37fa9b['type']=_0x1bdabe['ZtpAc'];const _0x1bafb6={};_0x1bafb6[_0x2ad739(0xd8)]=_0x1bdabe[_0x2ad739(0xcd)],_0x1bafb6['type']=_0x1bdabe['ZtpAc'];const _0x284c13={};_0x284c13[_0x2ad739(0x8a)]=!![],_0x284c13[_0x2ad739(0xd8)]=_0x1bdabe[_0x2ad739(0x88)],_0x284c13['type']=_0x1bdabe[_0x2ad739(0x7c)];const _0x179408={};_0x179408[_0x2ad739(0xd8)]=_0x1bdabe[_0x2ad739(0xb6)],_0x179408[_0x2ad739(0x80)]=_0x1bdabe['ZtpAc'];const _0x4a083c={};_0x4a083c[_0x2ad739(0xd8)]=_0x1bdabe[_0x2ad739(0xb9)],_0x4a083c['type']=_0x1bdabe[_0x2ad739(0x7c)];const _0x14a24d={};return _0x14a24d['bstack-username']=_0x37fa9b,_0x14a24d[_0x2ad739(0xd4)]=_0x1bafb6,_0x14a24d[_0x2ad739(0xaf)]=_0x284c13,_0x14a24d[_0x2ad739(0x8c)]=_0x179408,_0x14a24d[_0x2ad739(0x92)]=_0x4a083c,_0x67c793[_0x2ad739(0xba)](_0x5f362a['create'])[_0x2ad739(0xad)](_0x4c305)[_0x2ad739(0x86)](_0x14a24d)[_0x2ad739(0xa4)](_0x1bdabe[_0x2ad739(0xd9)])[_0x2ad739(0xa9)];}};[_0x1e78ce,_0x68e94a]=_0x1bdabe[_0x60c034(0x9f)](fetchOrUpdateUserConfig,_0x1e78ce,_0x68e94a);!_0x1bdabe[_0x60c034(0xbe)](_0x1e78ce,_0x68e94a)&&(_0x1bdabe['SJisn'](_0x1bdabe[_0x60c034(0xc5)],_0x1bdabe[_0x60c034(0xc5)])?_0x1bdabe[_0x60c034(0x9d)](_0x4a8132,_0x60c034(0xbb)):_0x1bdabe[_0x60c034(0x81)](_0x109c51,_0x60c034(0xbb)));let _0xcb286f=_0x438faf['gridId'],[_0x52c661,_0x1dc22b]=await _0x1bdabe[_0x60c034(0xc3)](getGridDetails,_0x1e78ce,_0x68e94a,_0xcb286f);!_0x1dc22b&&(_0x1bdabe['SJisn'](_0x1bdabe[_0x60c034(0xcb)],_0x1bdabe[_0x60c034(0xcb)])?_0x1bdabe[_0x60c034(0x9d)](_0x4a8132,'Please\x20provide\x20a\x20valid\x20Grid\x20Identifier'):(_0x20f18f[_0x60c034(0xc6)](_0x2a101f),_0x13795b[_0x60c034(0xb1)](0x1)));let _0x54b94d=_0x1bdabe[_0x60c034(0x94)](_0x438faf[_0x60c034(0xd6)],_0x1bdabe[_0x60c034(0xce)])?!![]:![];if(_0x1dc22b&&_0x1dc22b[_0x60c034(0xd2)]&&_0x54b94d){if(_0x1bdabe[_0x60c034(0xa1)](_0x1bdabe['Eeppf'],_0x1bdabe['DhpXp'])){logMessage=_0x60c034(0x97),logger['info'](logMessage);try{if(_0x1bdabe[_0x60c034(0x94)](_0x1bdabe[_0x60c034(0xb5)],_0x1bdabe['yzKfD'])){const _0x213349={};_0x213349[_0x60c034(0x8f)]=_0x68e94a,_0x213349[_0x60c034(0x85)]=_0x1dc22b[_0x60c034(0x85)],_0x213349[_0x60c034(0xae)]=_0x151add;const _0x30fe95=_0x213349,_0x37bc74=_0x1bdabe[_0x60c034(0x95)](startLocalBinarySync,_0x30fe95);let _0x215c53=0x0;const _0x5ed084=async()=>{const _0x413aac=_0x60c034,_0x5bc890={'oNgIV':function(_0x48ba4a,_0x1b7c12){const _0x3e2347=a7_0xdca7;return _0x1bdabe[_0x3e2347(0x93)](_0x48ba4a,_0x1b7c12);},'CMXtj':function(_0x14acfa,_0xd6b5c4){return _0x1bdabe['RFHUt'](_0x14acfa,_0xd6b5c4);}};if(_0x1bdabe[_0x413aac(0xdd)](_0x1bdabe[_0x413aac(0xa7)],_0x1bdabe[_0x413aac(0xa7)]))_0x215c53++,_0x1bdabe[_0x413aac(0xb2)](_0x215c53,0x1)&&_0x37bc74&&_0x37bc74[_0x413aac(0xab)]()&&_0x1bdabe[_0x413aac(0x95)](stopLocalBinary,_0x37bc74);else{const _0x2c1739={};_0x2c1739['accessKey']=_0x287f8e,_0x2c1739['customRepeaters']=_0x1f95e3['customRepeaters'],_0x2c1739[_0x413aac(0xae)]=_0x3452ba;const _0x495baf=_0x2c1739,_0x2d9b4b=_0x1bdabe[_0x413aac(0x9c)](_0x4e1846,_0x495baf);let _0x2a7501=0x0;const _0x2bd63a=async()=>{const _0x5c2f03=_0x413aac;_0x2a7501++,_0x5bc890[_0x5c2f03(0xb0)](_0x2a7501,0x1)&&_0x2d9b4b&&_0x2d9b4b[_0x5c2f03(0xab)]()&&_0x5bc890[_0x5c2f03(0xb4)](_0x2820c7,_0x2d9b4b);};_0x2ef3e1['on'](_0x1bdabe['Ejqaa'],_0x2bd63a),_0x125c81['on'](_0x1bdabe[_0x413aac(0xdc)],_0x2bd63a),_0x5dce7['on'](_0x1bdabe[_0x413aac(0x83)],_0x2bd63a),_0x2a9e44=_0x413aac(0x96),_0x463255[_0x413aac(0xbd)](_0x9bded9);}};process['on'](_0x1bdabe[_0x60c034(0xa8)],_0x5ed084),process['on'](_0x1bdabe['hQnMh'],_0x5ed084),process['on'](_0x1bdabe[_0x60c034(0x83)],_0x5ed084),logMessage=_0x60c034(0x96),logger[_0x60c034(0xbd)](logMessage);}else _0x45372b++,_0x1bdabe[_0x60c034(0x93)](_0x2c995c,0x1)&&_0x412a87&&_0x1c8d5a[_0x60c034(0xab)]()&&_0x1bdabe[_0x60c034(0x9c)](_0x3d53b9,_0x13fbe9);}catch(_0x1a61c5){_0x1bdabe['hdYjJ'](_0x1bdabe[_0x60c034(0xd7)],_0x1bdabe['krMYM'])?_0x1bdabe[_0x60c034(0xc0)](_0x4a8132,'Couldn\x27t\x20establish\x20a\x20private\x20connection\x20with\x20the\x20grid'):_0x1bdabe['RFHUt'](_0x57a695,'Couldn\x27t\x20establish\x20a\x20private\x20connection\x20with\x20the\x20grid');}}else{_0x399392=_0x60c034(0x97),_0x59c950[_0x60c034(0xbd)](_0xc20d68);try{const _0x199f11={};_0x199f11['accessKey']=_0x6c3ba0,_0x199f11[_0x60c034(0x85)]=_0x53e612[_0x60c034(0x85)],_0x199f11['browserStackLocalOptions']=_0x439f0c;const _0x48c581=_0x199f11,_0x5f2093=_0x1bdabe[_0x60c034(0x9c)](_0x5937ef,_0x48c581);let _0xa11f0a=0x0;const _0x234ad2=async()=>{const _0x794c48=_0x60c034;_0xa11f0a++,_0x1bdabe[_0x794c48(0x87)](_0xa11f0a,0x1)&&_0x5f2093&&_0x5f2093[_0x794c48(0xab)]()&&_0x1bdabe[_0x794c48(0xcf)](_0x16c16b,_0x5f2093);};_0x294040['on'](_0x1bdabe[_0x60c034(0xa8)],_0x234ad2),_0x2a2082['on'](_0x1bdabe[_0x60c034(0xdc)],_0x234ad2),_0x22b5a9['on'](_0x1bdabe[_0x60c034(0x83)],_0x234ad2),_0x20554a=_0x60c034(0x96),_0x1b4eeb[_0x60c034(0xbd)](_0x4bf2a6);}catch(_0x2393e8){_0x1bdabe[_0x60c034(0x9c)](_0x4a2e17,'Couldn\x27t\x20establish\x20a\x20private\x20connection\x20with\x20the\x20grid');}}}process['exit'](0x0);};function a7_0xdca7(_0x961a1b,_0x3b0eb4){const _0x34f349=a7_0x34f3();return a7_0xdca7=function(_0xdca7da,_0xbcff10){_0xdca7da=_0xdca7da-0x7b;let _0x1b02ea=_0x34f349[_0xdca7da];return _0x1b02ea;},a7_0xdca7(_0x961a1b,_0x3b0eb4);}function a7_0x34f3(){const _0x133217=['BBJce','zBJKI','bstackAccesskey','command','isTrialGrid','ZDcgk','bstack-accesskey','beforeExit','useStaging','krMYM','description','TlioG','600UwAcEk','KEBUv','hQnMh','SJisn','3641139eOVtkF','4574676gHysQr','ZtpAc','12070FAVgSB','bsZVd','bstackUsername','type','RFHUt','bstack-username','VIoPL','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','customRepeaters','options','jzLfk','CAitZ','789787IEUDlB','demandOption','dogik','use-staging','eeAoo','14RbeEkz','accessKey','XiIzF','hOcIe','advance-options','scefs','YktBe','mwldb','We\x20have\x20successfully\x20established\x20a\x20connection\x20between\x20trial\x20grid\x20and\x20your\x20setup.\x20You\x20should\x20be\x20able\x20to\x20start\x20testing\x20your\x20internal\x20development\x20or\x20staging\x20websites.','Grid\x20type:\x20Trial','jwNFs','zkuWI','SIGINT','DqOdS','rZVFi','HAnqY','advanceOptions','FfKuL','18045tnBLDl','dhcEx','desc','6990CSOKIl','help','bXdYQ','true','lMvOW','Ejqaa','argv','zQzod','isRunning','string','epilogue','browserStackLocalOptions','grid-id','oNgIV','exit','AXfdI','Advance\x20options\x20for\x20Browserstack\x20Local','CMXtj','yzKfD','BUWnt','4942984FqRRNi','fHpwV','bLcXs','usage','Couldn\x27t\x20find\x20username\x20/\x20accesskey,\x20please\x20use\x20--username\x20and\x20--accesskey','builder','info','ATEJV','zbfKq','cDjsg','SIGTERM','1814908ooLhWl','sqfjP','create','IKolL','error','../../utils/utilityMethods','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','FDsja','This\x20command\x20will\x20connect\x20the\x20grid\x20with\x20existing\x20VPC','JFKcr','Pass\x20the\x20ID\x20of\x20the\x20Grid','WUAzZ'];a7_0x34f3=function(){return _0x133217;};return a7_0x34f3();}