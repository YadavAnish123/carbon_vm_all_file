const a9_0x487d80=a9_0x2a79;function a9_0x2a79(_0x74d105,_0x1555ac){const _0x51d8bb=a9_0x51d8();return a9_0x2a79=function(_0x2a79e3,_0xd1f144){_0x2a79e3=_0x2a79e3-0xed;let _0xc8638f=_0x51d8bb[_0x2a79e3];return _0xc8638f;},a9_0x2a79(_0x74d105,_0x1555ac);}(function(_0x31ce83,_0x214327){const _0x3d4986=a9_0x2a79,_0x3d1f51=_0x31ce83();while(!![]){try{const _0x321d94=parseInt(_0x3d4986(0x201))/0x1*(parseInt(_0x3d4986(0xf5))/0x2)+-parseInt(_0x3d4986(0x1bc))/0x3*(parseInt(_0x3d4986(0x1fa))/0x4)+parseInt(_0x3d4986(0x175))/0x5*(parseInt(_0x3d4986(0x1dc))/0x6)+-parseInt(_0x3d4986(0x182))/0x7+-parseInt(_0x3d4986(0x17c))/0x8*(parseInt(_0x3d4986(0x11d))/0x9)+parseInt(_0x3d4986(0x1fe))/0xa+parseInt(_0x3d4986(0x105))/0xb*(-parseInt(_0x3d4986(0x1f4))/0xc);if(_0x321d94===_0x214327)break;else _0x3d1f51['push'](_0x3d1f51['shift']());}catch(_0xde89d6){_0x3d1f51['push'](_0x3d1f51['shift']());}}}(a9_0x51d8,0xa4ad4));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a9_0x487d80(0x1d2)),got=require('got'),{v4:uuidv4}=require('uuid'),webSocketUtils=require(a9_0x487d80(0x21d)),{logger}=require(a9_0x487d80(0x163)),{inputCloudProviderKeys}=require(a9_0x487d80(0x124)),{getCredentialsPath,updateGlobalRegistryWithConfig,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader}=require('../../utils/utilityMethods'),{getCloudProviderObject}=require(a9_0x487d80(0x139)),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP}=require(a9_0x487d80(0x1cd)),{addGridComponents,removeGridComponents,getNamespaceUID}=require(a9_0x487d80(0x130)),{createK8sClient}=require(a9_0x487d80(0x1c4)),{sendInstrumentationEvent}=require(a9_0x487d80(0x108));function a9_0x51d8(){const _0x109abb=['/packages/cli/create-grid-checks','reconnecting-websocket','isClusterPresent','bseny','Namespace\x20Created','Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region(','TwpAL','KszoN','NJVMh','CLI_RUN_FINISHED','Odkmh','912CWNYsT','oabBd','Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','lGgKe','hubVersion','s3Bucket','create-grid-checks-non-200','RIoZQ','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','aSOnJ','mruXF','gridProfileId','swMOJ','CLI_RUN_STARTED','lRksE','uOqtK','Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20','UTCGa','replace','LOG','HRtca','eNJob','defaultGridProfile','\x27\x20grid\x20profile','395988hXjtvm','APKWs','kOWSz','GaZWW','ExUcA','grid-spawning-failed','3202796mVcZwR','requestId','/packages/cli/get-grid-url?gridIdentifier=','Will\x20be\x20spawning\x20the\x20grid\x20','9109570KLZasA','WebSocket','IoOrM','188567wHVZCf','ujUhz','get-grid-url-non-200','instanceType','IdouK','rcJCn','length','AsWEC','get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','NnUOM','hGGea','subnets','IXJQd','epilogue','Mfoew','metadata','split','isSubnetsValid','wNEzy','readNamespacedService','QpUVi','ZFNCM','addListeners','Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','name','\x20using\x20\x27','createNamespace','grid-name','../../utils/webSocketUtils','username','debug','gridProfile','HZGnO','cNDmd','uzdpC','niIzO','muCIj','description','GET','wDgke','ingress-nginx','IiMEZ','DsQSy','managedBy','crlzM','Ovauj','14ChlUhq','password','stringify','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','RTdDu','Tnzox','6|5|0|4|3|8|2|7|1','ijjch','toMIL','tiHtL','kLopG','VwFCV','init-not-called','private-ingress-nginx-controller','CLI\x20run\x20finished:\x20','209YGzxcW','OLgik','zTTgP','../../utils/instrumentationUtils','Browserstack','aDSwL','clusterName','setupNewCluster','get-grid-url-auth-failed','deleteCluster','QHhnO','type','cloud-provider','DwONU','private-grid','yhZAn','annotations','Found\x20Subnets:\x20','includes','maxNodes','Spawning\x20grid\x20on\x20to\x20the\x20cluster','http','string','dbRzJ','9ENYQOm','default','RUZyR','configureIfNotConfigured','concurrency','rsIGe','parse','../../utils/userInput','QpFYr','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','sendEventToBackend','https','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','message','Found\x20VPC:\x20','user','vpc','gWMmB','../../utils/gridComponents','toLowerCase','Namespace\x20created','Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20','VjuNh','create-grid-checks-invalid-profile','prespawned-cluster-args-not-passed','Brxcl','oxiVe','../../cloudproviders/utils','ERROR','DmBma','Cluster\x20','QOLUf','WfXtE','clusterRegion','NfVfd','WjmeJ','KPZsd','createOtherResources','nfuLs','WztDl','IrNNX','egGLv','DNVGT','Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','pVeOA','Cmsnn','Cluster\x20created\x20successfully','minNodes','://','xbMrd','imiYe','bstackAccesskey','EoitN','BqJcl','cOIEP','xoLpn','info','lCMAj','mulix','IfEIN','Create\x20a\x20private/public\x20grid.','XuQfO','pre-spawned-invalid-vpc','Unknown\x20cloud\x20provider\x20found\x20-\x20AZURE','Deleting\x20the\x20CloudFormation\x20Stacks','alreadyPresent','BWoUU','true','xmzyD','../../config/logger','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','body','rFLWE','\x20are\x20not\x20present\x20in\x20VPC:\x20','route53','MLCMC','grid-profile','statusCode','AJhIL','getGridHostname','Grid\x20profile\x20fetched\x20from\x20backend','Grid\x20can\x20be\x20accessed\x20at:\x20','get-grid-url-null-response','kUCHG','Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','gGLjd','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','28045tiEomB','fDenI','uTdjQ','region','securityGroups','sgejq','handler','6050552VZzPYT','readFileSync','skyEn','/wd/hub','turboscale-managed-identity-','JEHyM','1574853NtxJxJ','DgBpu','ZhAON','privateGrid','idtNf','<UsernamePlaceholder>','DGyFi','wNtNY','3|0|1|2|4','IxPIM','CLI\x20run\x20started','create','usage','CaKiE','options','grid','writeFileSync','yUUqd','eGjDu','Found\x20credentials\x20for\x20cloud\x20provider\x20locally.\x20Using\x20them\x20to\x20create\x20resources','duGCO','LATDU','create-grid-checks-auth-failed','exit','s3BucketName','eGeWw','The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','gridName','phqME','KorKV','cluster-name','createdBy','argv','Ossva','IKzGV','GWZRg','desc','An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20${gridName}.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','\x20in\x20existing\x20cluster\x20\x27','NwKlk','s3bucket','kTiKA','Spawning\x20the\x20grid\x20','ingress-nginx-controller','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','7|8|6|3|1|4|0|2|5','Create\x20a\x20new\x20Automation\x20grid.','xgKQj','isNewAWSCluster','OrHPo','sKYzO','delay','create-grid-checks-null-response','fetchLocalCreds','warn','FeIxU','fXVLu','https://','3UKajyg','iGPFf','cloudProvider','help','browserVersion','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','BSGwT','yuaXv','../../utils/createk8sClient','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','HcTPv','error','AKyWb','DMPys','zaeZt','xjpEn','KZOEO','../../config/constants','isPrivateGrid','setupAutoscaler','.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again'];a9_0x51d8=function(){return _0x109abb;};return a9_0x51d8();}exports['command']=a9_0x487d80(0x191),exports[a9_0x487d80(0x1a6)]=a9_0x487d80(0x1b0),exports['builder']=function(_0x529649){const _0x2805f6=a9_0x487d80,_0x2f4496={};_0x2f4496[_0x2805f6(0x193)]=_0x2805f6(0x164),_0x2f4496[_0x2805f6(0x183)]=_0x2805f6(0x11b),_0x2f4496[_0x2805f6(0x1d4)]='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x2f4496[_0x2805f6(0x157)]='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x2f4496[_0x2805f6(0x10a)]=_0x2805f6(0x12a),_0x2f4496['IfEIN']=_0x2805f6(0xf8),_0x2f4496['ijjch']=_0x2805f6(0x15a),_0x2f4496[_0x2805f6(0x114)]='help';const _0x393e08=_0x2f4496,_0x238dbe={};_0x238dbe[_0x2805f6(0x226)]=_0x393e08['yUUqd'],_0x238dbe['type']=_0x393e08[_0x2805f6(0x183)];const _0x30020d={};_0x30020d[_0x2805f6(0x226)]=_0x393e08['bseny'],_0x30020d[_0x2805f6(0x110)]=_0x393e08[_0x2805f6(0x183)];const _0x4b43c0={};_0x4b43c0[_0x2805f6(0x226)]=_0x393e08[_0x2805f6(0x157)],_0x4b43c0[_0x2805f6(0x110)]=_0x393e08[_0x2805f6(0x183)];const _0x45c5a7={};_0x45c5a7[_0x2805f6(0x226)]=_0x393e08[_0x2805f6(0x10a)],_0x45c5a7['type']=_0x393e08[_0x2805f6(0x183)];const _0xd50675={};_0xd50675[_0x2805f6(0x226)]=_0x393e08[_0x2805f6(0x159)],_0xd50675[_0x2805f6(0x110)]=_0x393e08[_0x2805f6(0x183)];const _0x49cfd4={};_0x49cfd4['description']=_0x393e08[_0x2805f6(0xfd)],_0x49cfd4[_0x2805f6(0x110)]=_0x393e08['DgBpu'];const _0x5cff5a={};return _0x5cff5a[_0x2805f6(0x21c)]=_0x238dbe,_0x5cff5a[_0x2805f6(0x16a)]=_0x30020d,_0x5cff5a['cluster-name']=_0x4b43c0,_0x5cff5a[_0x2805f6(0x111)]=_0x45c5a7,_0x5cff5a[_0x2805f6(0x178)]=_0xd50675,_0x5cff5a[_0x2805f6(0x113)]=_0x49cfd4,_0x529649['usage'](HELP_HEADER_MESSAGE['create'])[_0x2805f6(0x20e)](HELP_FOOTER_MESSAGE)[_0x2805f6(0x190)](_0x5cff5a)[_0x2805f6(0x1bf)](_0x393e08[_0x2805f6(0x114)])[_0x2805f6(0x1a2)];},exports[a9_0x487d80(0x17b)]=async function(_0x126234){const _0x3fe688=a9_0x487d80,_0x28e2a0={'Cmsnn':_0x3fe688(0x1af),'DNVGT':_0x3fe688(0x164),'QpFYr':_0x3fe688(0x11b),'Bfyvp':_0x3fe688(0x1c1),'egGLv':_0x3fe688(0x1ae),'UTCGa':_0x3fe688(0x12a),'xgKQj':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','JDVDk':_0x3fe688(0x15a),'RTdDu':'help','duGCO':_0x3fe688(0x1c7),'uOqtK':_0x3fe688(0x128),'sBiEW':_0x3fe688(0x1b8),'GWZRg':_0x3fe688(0x11a),'kUCHG':_0x3fe688(0x15d),'dbRzJ':function(_0xb3bde1){return _0xb3bde1();},'WfXtE':function(_0x2e93b8,_0x5f4f30){return _0x2e93b8===_0x5f4f30;},'xbMrd':_0x3fe688(0x141),'DmBma':'eRNmm','ktUkF':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','crlzM':function(_0x5b156c,_0x2624aa,_0x5460aa,_0xdabcf2,_0x47edcc,_0x6304f5,_0x2e095c){return _0x5b156c(_0x2624aa,_0x5460aa,_0xdabcf2,_0x47edcc,_0x6304f5,_0x2e095c);},'DGyFi':'create-grid-called','EBANA':_0x3fe688(0x102),'CaKiE':function(_0x4972d5,_0x1e1bdd,_0x4ab79f,_0x74321a,_0x35a53e,_0x537cde,_0x5464e7){return _0x4972d5(_0x1e1bdd,_0x4ab79f,_0x74321a,_0x35a53e,_0x537cde,_0x5464e7);},'pVeOA':_0x3fe688(0x187),'tiHtL':'<PasswordPlaceholder>','IXJQd':'Adding\x20Websocket\x20listeners','yuaXv':function(_0x1d42d2,_0x1e2aa9){return _0x1d42d2===_0x1e2aa9;},'gWMmB':'NcBIx','zaeZt':_0x3fe688(0x1c8),'WztDl':function(_0x424fa8,_0x3d1deb){return _0x424fa8===_0x3d1deb;},'qpckH':'PQODK','HfklX':_0x3fe688(0x100),'Tnzox':'cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','ExUcA':function(_0x17eac5,_0x4a1a06,_0x398668,_0xea4c8c,_0x324535,_0x2906d5,_0x427f1b,_0x4be8a3){return _0x17eac5(_0x4a1a06,_0x398668,_0xea4c8c,_0x324535,_0x2906d5,_0x427f1b,_0x4be8a3);},'HRtca':_0x3fe688(0x136),'DwONU':function(_0x31d9bf,_0x311400){return _0x31d9bf!==_0x311400;},'eGjDu':_0x3fe688(0xee),'rsIGe':'qAjpj','FbiQg':_0x3fe688(0x1de),'gLbDE':'non-aws-azure-cluster','hGGea':_0x3fe688(0x161),'skyEn':_0x3fe688(0xf0),'uzdpC':function(_0x1f212c,_0xcbf809){return _0x1f212c===_0xcbf809;},'lYfcV':_0x3fe688(0x1c9),'muCIj':_0x3fe688(0xfe),'IoOrM':function(_0x580d99,_0x39fd14){return _0x580d99!==_0x39fd14;},'IrNNX':_0x3fe688(0x15b),'BWoUU':_0x3fe688(0xed),'rFLWE':function(_0x3fa54f,_0x5ab4ac,_0x59a3d3){return _0x3fa54f(_0x5ab4ac,_0x59a3d3);},'NwKlk':function(_0x473ca4,_0x396bad,_0x49d10c){return _0x473ca4(_0x396bad,_0x49d10c);},'fDenI':function(_0x1e3276,_0x235314){return _0x1e3276===_0x235314;},'idtNf':_0x3fe688(0x184),'xjpEn':_0x3fe688(0x144),'Mfoew':_0x3fe688(0x174),'IxPIM':_0x3fe688(0x1b6),'BqJcl':function(_0x3e2bb2,_0x568da7){return _0x3e2bb2===_0x568da7;},'KZOEO':_0x3fe688(0x1ba),'JuEoe':_0x3fe688(0x126),'Ovauj':function(_0x11482b,_0x46d613,_0x346691,_0x22110f,_0x52a853,_0x5270c0,_0x1920ae,_0x159f02){return _0x11482b(_0x46d613,_0x346691,_0x22110f,_0x52a853,_0x5270c0,_0x1920ae,_0x159f02);},'phqME':_0x3fe688(0x198),'bMVZO':_0x3fe688(0x19b),'swMOJ':_0x3fe688(0x1e2),'Odkmh':_0x3fe688(0x16e),'MLCMC':function(_0x5efbc9,_0x469a16){return _0x5efbc9!==_0x469a16;},'FeIxU':'yOJJE','IkLiz':_0x3fe688(0x20a),'KszoN':_0x3fe688(0x1a7),'Brxcl':'create-grid-checks-grid-already-exists','TwpAL':'ejHBr','EoitN':'QSXfm','NfVfd':function(_0x1716ab,_0x12a04a){return _0x1716ab===_0x12a04a;},'AQSWw':_0x3fe688(0x215),'AvSem':_0x3fe688(0x149),'APKWs':function(_0x498f9e,_0x24b883,_0x49e46d,_0x18889f,_0x3ec010,_0x2a50e8,_0x127d15,_0x5bdb71){return _0x498f9e(_0x24b883,_0x49e46d,_0x18889f,_0x3ec010,_0x2a50e8,_0x127d15,_0x5bdb71);},'HZGnO':_0x3fe688(0x135),'ZmnIg':function(_0xe0fef8,_0x477341){return _0xe0fef8===_0x477341;},'mulix':function(_0x5e9123,_0x15ce44){return _0x5e9123===_0x15ce44;},'cNDmd':_0x3fe688(0x213),'rcJCn':function(_0x119e46,_0x322b36){return _0x119e46!==_0x322b36;},'RIoZQ':'qZalH','cOIEP':function(_0x21f9c4,_0x39a60a,_0x24078f,_0x5cd505,_0x2fc037,_0x240004,_0xb7183c,_0x8a704b,_0x4cf2e0,_0x4d426e,_0x454ff9,_0x1bcd51){return _0x21f9c4(_0x39a60a,_0x24078f,_0x5cd505,_0x2fc037,_0x240004,_0xb7183c,_0x8a704b,_0x4cf2e0,_0x4d426e,_0x454ff9,_0x1bcd51);},'XBVew':_0x3fe688(0xfc),'mruXF':function(_0x567af0,_0x4c9182,_0x38df77,_0x44718e,_0x24a355,_0x121687){return _0x567af0(_0x4c9182,_0x38df77,_0x44718e,_0x24a355,_0x121687);},'JEHyM':'Unable\x20to\x20fetch\x20credentials\x20for\x20cloud\x20provider\x20locally','uTdjQ':function(_0x101904,_0x1854b9,_0x49e59d,_0x490be0){return _0x101904(_0x1854b9,_0x49e59d,_0x490be0);},'RUZyR':'Saving\x20credentials\x20for\x20cloud\x20provider\x20locally\x20for\x20later\x20runs','WKQCz':_0x3fe688(0x195),'lRksE':function(_0x2b577a,_0x1d97c7){return _0x2b577a===_0x1d97c7;},'sKYzO':_0x3fe688(0x218),'aSOnJ':function(_0x30dae0,_0x1323af){return _0x30dae0!=_0x1323af;},'VjuNh':function(_0x273bc6,_0x1b4410){return _0x273bc6!=_0x1b4410;},'NJVMh':function(_0x580edd,_0x4a16d2){return _0x580edd!==_0x4a16d2;},'VwFCV':function(_0x354d51,_0x2985af){return _0x354d51>_0x2985af;},'eVRPL':'Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','LATDU':function(_0x3a69eb,_0x32b39c,_0x526b21,_0x48135e,_0x1bc8b7,_0xf4cadb,_0x1aabed,_0x2b12c7){return _0x3a69eb(_0x32b39c,_0x526b21,_0x48135e,_0x1bc8b7,_0xf4cadb,_0x1aabed,_0x2b12c7);},'gGLjd':'pre-spawned-subnets-not-selected','DsQSy':'VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','AJhIL':_0x3fe688(0x15c),'IedsH':function(_0x3d948d,_0x425189){return _0x3d948d===_0x425189;},'lGgKe':'pre-spawned-invalid-subnets','OrHPo':_0x3fe688(0x18a),'QOLUf':_0x3fe688(0x19c),'LpUha':_0x3fe688(0x14c),'sgejq':function(_0x2abe6d,_0x1422d2){return _0x2abe6d===_0x1422d2;},'vlWmF':function(_0x20151d,_0x4e2274){return _0x20151d(_0x4e2274);},'wNtNY':function(_0x36e7fb,_0x49efcd){return _0x36e7fb===_0x49efcd;},'xoLpn':function(_0x2c5687,_0x429339){return _0x2c5687==_0x429339;},'zTTgP':function(_0x2a87f7,_0x19a968){return _0x2a87f7(_0x19a968);},'Ossva':'Creating\x20namespace','kTiKA':function(_0x2e8ced,_0x5592a9){return _0x2e8ced!==_0x5592a9;},'oxiVe':_0x3fe688(0x11e),'xmzyD':_0x3fe688(0x109),'QHhnO':_0x3fe688(0x1d5),'OLgik':_0x3fe688(0x132),'GaZWW':_0x3fe688(0x119),'KPZsd':'Spawning\x20Grid\x20on\x20the\x20Cluster','BSGwT':function(_0x2fd563,_0x1aa32a){return _0x2fd563===_0x1aa32a;},'ATWND':function(_0xa65fc3,_0x2c2c4,_0x4c1a3b,_0x143ff0,_0x5eeb9b,_0x3acbd2,_0x5595d4,_0x5f39d0,_0x30460c,_0xaffbf9,_0xc5edb6){return _0xa65fc3(_0x2c2c4,_0x4c1a3b,_0x143ff0,_0x5eeb9b,_0x3acbd2,_0x5595d4,_0x5f39d0,_0x30460c,_0xaffbf9,_0xc5edb6);},'JNTKl':'Grid\x20spawned\x20on\x20the\x20cluster','imiYe':_0x3fe688(0x172),'ujUhz':_0x3fe688(0x103),'kOWSz':_0x3fe688(0x1ad),'HcTPv':_0x3fe688(0xef),'IKzGV':function(_0x4b171e,_0x26d535){return _0x4b171e==_0x26d535;},'IdouK':_0x3fe688(0x209),'ZFNCM':_0x3fe688(0x170),'niIzO':function(_0x15d70e,_0x41631b){return _0x15d70e===_0x41631b;},'KorKV':_0x3fe688(0x1e4),'AsWEC':_0x3fe688(0x10d),'oabBd':_0x3fe688(0x203),'iGPFf':function(_0x225e70,_0x2d0058,_0x53d18b,_0x3269d6,_0x333927,_0x57a5ad,_0x466aeb){return _0x225e70(_0x2d0058,_0x53d18b,_0x3269d6,_0x333927,_0x57a5ad,_0x466aeb);},'eNJob':_0x3fe688(0x1f9)};let _0x5cab5b=![],_0x4db9e2,_0x5c1f05,_0x1e5776,_0x3f0b6f,_0x366c75,_0x2d9958,_0x194c38,_0x32a443,_0x169013,_0x7fbeeb,_0x32a7fd,_0x1b57bb,_0x5aa4d0=0x1,_0x5eceac=0xe;try{global_registry[_0x3fe688(0x1fb)]=_0x28e2a0[_0x3fe688(0x11c)](uuidv4),global_registry[_0x3fe688(0x1ce)]=![];!fs['existsSync'](_0x28e2a0[_0x3fe688(0x11c)](getCredentialsPath))&&(_0x28e2a0[_0x3fe688(0x13e)](_0x28e2a0[_0x3fe688(0x14f)],_0x28e2a0[_0x3fe688(0x13b)])?_0x46d5c3=_0x20a913[_0x47e3c3[_0x3fe688(0x220)]]:(console[_0x3fe688(0x1c7)](_0x28e2a0['ktUkF']),await _0x28e2a0[_0x3fe688(0xf3)](sendInstrumentationEvent,_0x126234,_0x28e2a0[_0x3fe688(0x188)],messageTypes['ERROR'],_0x28e2a0['EBANA'],null,_0x126234),process[_0x3fe688(0x199)](0x1)));await _0x28e2a0[_0x3fe688(0x18f)](sendInstrumentationEvent,_0x126234,_0x28e2a0[_0x3fe688(0x188)],messageTypes['INFO'],null,null,_0x126234);const _0x10fc84=JSON['parse'](fs[_0x3fe688(0x17d)](_0x28e2a0[_0x3fe688(0x11c)](getCredentialsPath)));global_registry['bstackUsername']=_0x10fc84[_0x3fe688(0x109)][_0x3fe688(0x21e)],global_registry[_0x3fe688(0x151)]=_0x10fc84[_0x3fe688(0x109)][_0x3fe688(0xf6)];const _0x9f0580=WS_ENDPOINT[_0x3fe688(0x1ee)](_0x28e2a0[_0x3fe688(0x14a)],_0x10fc84[_0x3fe688(0x109)][_0x3fe688(0x21e)])['replace'](_0x28e2a0[_0x3fe688(0xff)],_0x10fc84[_0x3fe688(0x109)][_0x3fe688(0xf6)]),_0x5d8e03={};_0x5d8e03[_0x3fe688(0x1ff)]=ws,_0x5d8e03['connectionTimeout']=0x36ee80,_0x7fbeeb=new ReconnectingWebSocket(_0x9f0580,[],_0x5d8e03),logger['debug'](_0x28e2a0[_0x3fe688(0x20d)]),webSocketUtils[_0x3fe688(0x217)](_0x7fbeeb,_0x126234[_0x3fe688(0x12d)],_0x126234['password']);let _0x302cd1=DEFAULT_GRID_NAME;if(_0x126234[_0x3fe688(0x10b)]||_0x126234[_0x3fe688(0x1be)]||_0x126234[_0x3fe688(0x178)]){if(_0x28e2a0[_0x3fe688(0x1c3)](_0x28e2a0[_0x3fe688(0x12f)],_0x28e2a0[_0x3fe688(0x1ca)])){const _0x25d5b5=_0x28e2a0[_0x3fe688(0x14b)][_0x3fe688(0x211)]('|');let _0x25e971=0x0;while(!![]){switch(_0x25d5b5[_0x25e971++]){case'0':_0x69ac9e[_0x3fe688(0x10b)]=_0x47508a;continue;case'1':_0x5d77e9['cloudProvider']=_0x42c34a;continue;case'2':_0x4c2d91[_0x3fe688(0x1e0)]=_0x35914d['hubVersion'];continue;case'3':const _0x1c886f={};_0x1c886f[_0x3fe688(0x110)]=_0x2a7439['LOG'],_0x1c886f['message']=_0x10a147,_0x270807['sendEventToBackend'](_0x586b36,_0x1c886f);continue;case'4':_0x20be7d['clusterRegion']=_0x8c3c44;continue;case'5':_0x51fead[_0x3fe688(0x1c0)]=_0x199c37['browserVersion'];continue;case'6':_0x4c1280[_0x3fe688(0x156)](_0x3487e2);continue;case'7':const _0x1cbaec={};_0x1cbaec[_0x3fe688(0x110)]=_0x4a1454[_0x3fe688(0x1e9)],_0x1cbaec[_0x3fe688(0x12b)]='CLI\x20run\x20started',_0x1a59d8[_0x3fe688(0x127)](_0x49fdef,_0x1cbaec);continue;case'8':_0x5c7c34=_0x3fe688(0x1ac)+_0x28552f+_0x3fe688(0x1a8)+_0x52c546+'\x27';continue;}break;}}else!(_0x126234[_0x3fe688(0x10b)]&&_0x126234[_0x3fe688(0x1be)]&&_0x126234['region'])&&(_0x28e2a0[_0x3fe688(0x145)](_0x28e2a0['qpckH'],_0x28e2a0['HfklX'])?_0xbd978a['info'](_0x3fe688(0x116)+_0x105d10[_0x3fe688(0xf7)](_0xf3dbb4)+'\x20'):(_0x4db9e2=_0x28e2a0[_0x3fe688(0xfb)],await _0x28e2a0[_0x3fe688(0x1f8)](reportToGalactusAndSendToEDS,_0x126234,_0x7fbeeb,_0x4db9e2,messageTypes[_0x3fe688(0x13a)],_0x28e2a0['DGyFi'],_0x28e2a0[_0x3fe688(0x1f0)],_0x28e2a0['duGCO']),logger[_0x3fe688(0x1c7)](_0x4db9e2),process[_0x3fe688(0x199)](0x1))),![AWS,AZURE,GCP][_0x3fe688(0x117)](_0x126234[_0x3fe688(0x1be)][_0x3fe688(0x131)]())&&(_0x28e2a0['DwONU'](_0x28e2a0[_0x3fe688(0x194)],_0x28e2a0[_0x3fe688(0x122)])?(_0x4db9e2=_0x28e2a0['FbiQg'],await _0x28e2a0[_0x3fe688(0x1f8)](reportToGalactusAndSendToEDS,_0x126234,_0x7fbeeb,_0x4db9e2,messageTypes[_0x3fe688(0x13a)],_0x28e2a0['DGyFi'],_0x28e2a0['gLbDE'],_0x28e2a0['duGCO']),logger[_0x3fe688(0x1c7)](_0x4db9e2),process[_0x3fe688(0x199)](0x1)):_0x570cef['info'](_0x3fe688(0x12c)+_0x301b8a+'\x20')),_0x126234[_0x3fe688(0x185)]&&_0x28e2a0[_0x3fe688(0x1c3)](_0x126234['privateGrid'][_0x3fe688(0x131)](),_0x28e2a0[_0x3fe688(0x20b)])&&(_0x28e2a0[_0x3fe688(0x112)](_0x28e2a0[_0x3fe688(0x17e)],_0x28e2a0[_0x3fe688(0x17e)])?_0x536595['gridProfile']=_0x27a6a8[_0x3fe688(0x220)]:global_registry[_0x3fe688(0x1ce)]=!![]),_0x5cab5b=!![],_0x1e5776=_0x126234[_0x3fe688(0x10b)],_0x5c1f05=_0x126234['cloudProvider'][_0x3fe688(0x131)](),_0x3f0b6f=_0x126234[_0x3fe688(0x178)];}if(_0x126234['gridName']){if(_0x28e2a0['uzdpC'](_0x28e2a0['lYfcV'],_0x28e2a0[_0x3fe688(0x225)]))throw _0x5043d2;else _0x302cd1=_0x126234[_0x3fe688(0x19d)];}if(_0x126234[_0x3fe688(0x220)]){if(_0x28e2a0[_0x3fe688(0x200)](_0x28e2a0[_0x3fe688(0x146)],_0x28e2a0[_0x3fe688(0x146)])){const _0x3e0fcf={};_0x3e0fcf[_0x3fe688(0x226)]=_0x28e2a0[_0x3fe688(0x148)],_0x3e0fcf[_0x3fe688(0x110)]=_0x28e2a0['QpFYr'];const _0x4eec1b={};_0x4eec1b['description']=_0x28e2a0['Bfyvp'],_0x4eec1b[_0x3fe688(0x110)]=_0x28e2a0[_0x3fe688(0x125)];const _0x205a48={};_0x205a48[_0x3fe688(0x226)]=_0x28e2a0[_0x3fe688(0x147)],_0x205a48[_0x3fe688(0x110)]=_0x28e2a0[_0x3fe688(0x125)];const _0x152a36={};_0x152a36['description']=_0x28e2a0[_0x3fe688(0x1ed)],_0x152a36['type']=_0x28e2a0[_0x3fe688(0x125)];const _0x11a5f7={};_0x11a5f7['description']=_0x28e2a0[_0x3fe688(0x1b1)],_0x11a5f7[_0x3fe688(0x110)]=_0x28e2a0[_0x3fe688(0x125)];const _0x4923d2={};_0x4923d2[_0x3fe688(0x226)]=_0x28e2a0['JDVDk'],_0x4923d2[_0x3fe688(0x110)]=_0x28e2a0[_0x3fe688(0x125)];const _0x22b1d2={};return _0x22b1d2['grid-name']=_0x3e0fcf,_0x22b1d2['grid-profile']=_0x4eec1b,_0x22b1d2[_0x3fe688(0x1a0)]=_0x205a48,_0x22b1d2['cloud-provider']=_0x152a36,_0x22b1d2[_0x3fe688(0x178)]=_0x11a5f7,_0x22b1d2[_0x3fe688(0x113)]=_0x4923d2,_0x3c34ce[_0x3fe688(0x18e)](_0x3def29[_0x3fe688(0x18d)])[_0x3fe688(0x20e)](_0x245ea2)[_0x3fe688(0x190)](_0x22b1d2)[_0x3fe688(0x1bf)](_0x28e2a0[_0x3fe688(0xfa)])[_0x3fe688(0x1a2)];}else global_registry['gridProfile']=_0x126234[_0x3fe688(0x220)];}global_registry[_0x3fe688(0x19d)]=_0x302cd1;const _0x4a6966={'method':_0x28e2a0[_0x3fe688(0x160)],'headers':_0x28e2a0[_0x3fe688(0x166)](getAuthHeader,_0x10fc84[_0x3fe688(0x109)][_0x3fe688(0x21e)],_0x10fc84[_0x3fe688(0x109)][_0x3fe688(0xf6)])},_0x58f226='https://'+AG_API_URL+_0x3fe688(0x1d1),_0x1a4ac0={};_0x1a4ac0['gridName']=_0x302cd1;const _0x197ac9={'searchParams':_0x1a4ac0,..._0x4a6966},_0x560063=_0x197ac9,_0x1fd3b7=await _0x28e2a0[_0x3fe688(0x1a9)](got,_0x58f226,_0x560063);(_0x28e2a0[_0x3fe688(0x13e)](_0x1fd3b7,null)||_0x28e2a0[_0x3fe688(0x176)](_0x1fd3b7,undefined))&&(_0x28e2a0[_0x3fe688(0x200)](_0x28e2a0[_0x3fe688(0x186)],_0x28e2a0[_0x3fe688(0x1cb)])?(_0x4db9e2=_0x28e2a0[_0x3fe688(0x20f)],await _0x28e2a0[_0x3fe688(0x1f8)](reportToGalactusAndSendToEDS,_0x126234,_0x7fbeeb,_0x4db9e2,messageTypes['ERROR'],_0x28e2a0['DGyFi'],_0x28e2a0[_0x3fe688(0x18b)],_0x28e2a0['duGCO']),logger[_0x3fe688(0x1c7)](_0x4db9e2),process[_0x3fe688(0x199)](0x1)):_0x2260c7[_0x3fe688(0x1be)]={});_0x28e2a0[_0x3fe688(0x223)](_0x1fd3b7['statusCode'],0x191)&&(_0x28e2a0[_0x3fe688(0x153)](_0x28e2a0[_0x3fe688(0x1cc)],_0x28e2a0[_0x3fe688(0x1cc)])?(_0x4db9e2=_0x28e2a0['JuEoe'],await _0x28e2a0[_0x3fe688(0xf4)](reportToGalactusAndSendToEDS,_0x126234,_0x7fbeeb,_0x4db9e2,messageTypes[_0x3fe688(0x13a)],_0x28e2a0['DGyFi'],_0x28e2a0[_0x3fe688(0x19e)],_0x28e2a0['duGCO']),logger[_0x3fe688(0x1c7)](_0x4db9e2),process[_0x3fe688(0x199)](0x1)):_0x2d04f1['isPrivateGrid']=!![]);_0x28e2a0[_0x3fe688(0x200)](_0x1fd3b7['statusCode'],0xc8)&&(_0x28e2a0[_0x3fe688(0x200)](_0x28e2a0['bMVZO'],_0x28e2a0['bMVZO'])?_0xad2b31[_0x3fe688(0x1ce)]=!![]:(_0x4db9e2=_0x3fe688(0xf9)+JSON[_0x3fe688(0xf7)](_0x1fd3b7),await _0x28e2a0['Ovauj'](reportToGalactusAndSendToEDS,_0x126234,_0x7fbeeb,_0x4db9e2,messageTypes[_0x3fe688(0x13a)],_0x28e2a0[_0x3fe688(0x188)],_0x28e2a0[_0x3fe688(0x1e8)],_0x28e2a0[_0x3fe688(0x196)]),logger[_0x3fe688(0x1c7)](_0x4db9e2),process['exit'](0x1)));const _0x2b794a=JSON[_0x3fe688(0x123)](_0x1fd3b7[_0x3fe688(0x165)]),_0x292f47={};_0x292f47[_0x3fe688(0x110)]=WS_EVENTS['CLI_RUN_STARTED'],_0x292f47[_0x3fe688(0x12b)]=_0x3fe688(0x18c),webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0x292f47);const _0x1ddf7f={};_0x1ddf7f[_0x3fe688(0x110)]=WS_EVENTS[_0x3fe688(0x1ef)],_0x1ddf7f[_0x3fe688(0x12b)]=_0x28e2a0[_0x3fe688(0x1db)],webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0x1ddf7f);if(_0x2b794a[_0x3fe688(0x15f)]){if(_0x28e2a0[_0x3fe688(0x169)](_0x28e2a0[_0x3fe688(0x1b9)],_0x28e2a0['IkLiz']))_0x4db9e2=_0x28e2a0[_0x3fe688(0x1d8)],await _0x28e2a0[_0x3fe688(0x1f8)](reportToGalactusAndSendToEDS,_0x126234,_0x7fbeeb,_0x4db9e2,messageTypes['ERROR'],_0x28e2a0['DGyFi'],_0x28e2a0[_0x3fe688(0x137)],_0x28e2a0[_0x3fe688(0x196)]),logger[_0x3fe688(0x1c7)](_0x4db9e2),process[_0x3fe688(0x199)](0x1);else{const _0xcea7d9={};_0xcea7d9[_0x3fe688(0x110)]=_0x474eb2[_0x3fe688(0x1ef)],_0xcea7d9[_0x3fe688(0x12b)]=_0x13499c,_0x5385f2['sendEventToBackend'](_0x4465a9,_0xcea7d9,_0x28e2a0[_0x3fe688(0x196)],!![]);}}const _0xbede59=_0x2b794a['gridProfiles'];let _0x108343=_0xbede59[_0x2b794a[_0x3fe688(0x1f2)]];_0x126234[_0x3fe688(0x220)]&&(_0x28e2a0[_0x3fe688(0x1c3)](_0x28e2a0[_0x3fe688(0x1d7)],_0x28e2a0[_0x3fe688(0x1d7)])?_0x108343=_0xbede59[_0x126234[_0x3fe688(0x220)]]:(_0x361ea7=_0x4be727['route53'],_0x580658=_0x28e2a0[_0x3fe688(0x1eb)]));if(_0x28e2a0[_0x3fe688(0x153)](_0x5cab5b,![])){if(_0x28e2a0['yuaXv'](_0x28e2a0[_0x3fe688(0x152)],_0x28e2a0[_0x3fe688(0x152)])){if(_0x28e2a0[_0x3fe688(0x140)](_0x108343,undefined)){if(_0x28e2a0[_0x3fe688(0x153)](_0x28e2a0['AQSWw'],_0x28e2a0['AQSWw']))_0x4db9e2=_0x28e2a0['AvSem'],await _0x28e2a0['APKWs'](reportToGalactusAndSendToEDS,_0x126234,_0x7fbeeb,_0x4db9e2,messageTypes[_0x3fe688(0x13a)],_0x28e2a0['DGyFi'],_0x28e2a0[_0x3fe688(0x221)],_0x28e2a0[_0x3fe688(0x196)]),logger[_0x3fe688(0x1c7)](_0x4db9e2),process[_0x3fe688(0x199)](0x1);else{const _0x11e59c={};_0x11e59c['type']=_0x1b81cd[_0x3fe688(0x1ef)],_0x11e59c[_0x3fe688(0x12b)]=_0x3fe688(0x13c)+_0x26d933+'\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation',_0x4f1d7c[_0x3fe688(0x127)](_0x2660ce,_0x11e59c,_0x28e2a0['sBiEW']),_0x985a6[_0x3fe688(0x156)](_0x3fe688(0x13c)+_0x343a1a+_0x3fe688(0x1c5)),_0x2d9c42=!![];}}global_registry[_0x3fe688(0x1e7)]=_0x108343['id'];(_0x28e2a0['ZmnIg'](_0x5c1f05,AZURE)||_0x28e2a0[_0x3fe688(0x223)](_0x108343?.[_0x3fe688(0x1be)],AZURE))&&(_0x28e2a0[_0x3fe688(0x158)](_0x28e2a0[_0x3fe688(0x222)],_0x28e2a0[_0x3fe688(0x222)])?(console[_0x3fe688(0x1c7)](_0x28e2a0[_0x3fe688(0x171)]),process[_0x3fe688(0x199)](0x1)):_0x3d2bf7=_0x28e2a0[_0x3fe688(0x1a5)]);_0x4db9e2=_0x3fe688(0x1fd)+_0x302cd1+_0x3fe688(0x21a)+_0x108343[_0x3fe688(0x219)]+_0x3fe688(0x1f3),logger[_0x3fe688(0x156)](_0x4db9e2);const _0x458043={};_0x458043[_0x3fe688(0x110)]=WS_EVENTS[_0x3fe688(0x1ef)],_0x458043['message']=_0x4db9e2,webSocketUtils['sendEventToBackend'](_0x7fbeeb,_0x458043),_0x5c1f05=_0x108343[_0x3fe688(0x1be)],_0x1e5776=_0x108343[_0x3fe688(0x10b)],_0x3f0b6f=_0x108343[_0x3fe688(0x178)],_0x366c75=_0x108343[_0x3fe688(0x121)],_0x2d9958=_0x108343[_0x3fe688(0x204)],_0x194c38=_0x108343[_0x3fe688(0x12e)],securityGroups=_0x108343[_0x3fe688(0x179)],subnets=_0x108343[_0x3fe688(0x20c)],_0x32a443=_0x108343[_0x3fe688(0x1aa)],_0x5aa4d0=_0x108343[_0x3fe688(0x14d)],_0x5eceac=_0x108343[_0x3fe688(0x118)],_0x32a7fd=_0x2b794a[_0x3fe688(0x1e0)],_0x1b57bb=_0x2b794a[_0x3fe688(0x1c0)],_0x28e2a0[_0x3fe688(0x206)](_0x108343['privateGrid'],undefined)&&_0x108343[_0x3fe688(0x185)]&&(_0x28e2a0[_0x3fe688(0x169)](_0x28e2a0[_0x3fe688(0x1e3)],_0x28e2a0['RIoZQ'])?(_0x1902cd[_0x3fe688(0x1c7)](_0x28e2a0[_0x3fe688(0x171)]),_0xca4974[_0x3fe688(0x199)](0x1)):global_registry[_0x3fe688(0x1ce)]=!![]),_0x28e2a0[_0x3fe688(0x154)](updateGlobalRegistryWithConfig,_0x5c1f05,_0x1e5776,_0x3f0b6f,_0x366c75,_0x2d9958,_0x32a443,_0x108343,_0x32a7fd,_0x1b57bb,_0x5aa4d0,_0x5eceac);}else _0x48efe3=_0x175507[_0x3fe688(0x19d)];}else{const _0x228658=_0x28e2a0['XBVew'][_0x3fe688(0x211)]('|');let _0x45d610=0x0;while(!![]){switch(_0x228658[_0x45d610++]){case'0':logger[_0x3fe688(0x156)](_0x4db9e2);continue;case'1':global_registry[_0x3fe688(0x1c0)]=_0x2b794a['browserVersion'];continue;case'2':global_registry[_0x3fe688(0x10b)]=_0x1e5776;continue;case'3':global_registry['cloudProvider']=_0x5c1f05;continue;case'4':const _0x45bace={};_0x45bace['type']=WS_EVENTS[_0x3fe688(0x1ef)],_0x45bace[_0x3fe688(0x12b)]=_0x4db9e2,webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0x45bace);continue;case'5':_0x4db9e2=_0x3fe688(0x1ac)+_0x302cd1+_0x3fe688(0x1a8)+_0x1e5776+'\x27';continue;case'6':const _0x2a0223={};_0x2a0223[_0x3fe688(0x110)]=WS_EVENTS['CLI_RUN_STARTED'],_0x2a0223[_0x3fe688(0x12b)]=_0x3fe688(0x18c),webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0x2a0223);continue;case'7':global_registry[_0x3fe688(0x1e0)]=_0x2b794a[_0x3fe688(0x1e0)];continue;case'8':global_registry['clusterRegion']=_0x3f0b6f;continue;}break;}}const _0x5038c8=_0x28e2a0[_0x3fe688(0x1e6)](getCloudProviderObject,_0x5c1f05,_0x1e5776,_0x302cd1,_0x7fbeeb,webSocketUtils),_0x16176e=_0x10fc84['cloudProvider']||{};if(_0x28e2a0['BqJcl'](_0x16176e[_0x5c1f05],undefined)){logger['info'](_0x28e2a0[_0x3fe688(0x181)]);_0x28e2a0['BqJcl'](_0x10fc84['cloudProvider'],undefined)&&(_0x10fc84['cloudProvider']={});_0x10fc84[_0x3fe688(0x1be)][_0x5c1f05]={};const _0x52de5a=await _0x28e2a0[_0x3fe688(0x177)](inputCloudProviderKeys,_0x5c1f05,_0x10fc84,_0x5038c8);fs[_0x3fe688(0x192)](_0x28e2a0['dbRzJ'](getCredentialsPath),JSON['stringify'](_0x52de5a)),logger[_0x3fe688(0x21f)](_0x28e2a0[_0x3fe688(0x11f)]);}else{_0x4db9e2=_0x28e2a0['WKQCz'];const _0xbea006={};_0xbea006[_0x3fe688(0x110)]=WS_EVENTS[_0x3fe688(0x1ef)],_0xbea006['message']=_0x4db9e2,webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0xbea006),logger[_0x3fe688(0x156)](_0x4db9e2),await _0x5038c8[_0x3fe688(0x1b7)](_0x16176e);}_0x5038c8[_0x3fe688(0x120)]();let _0x47bf57;if(_0x28e2a0[_0x3fe688(0x1ea)](_0x5cab5b,![])){_0x4db9e2=_0x3fe688(0x1d6)+_0x3f0b6f+').';const _0x443953={};_0x443953[_0x3fe688(0x110)]=WS_EVENTS['LOG'],_0x443953[_0x3fe688(0x12b)]=_0x4db9e2,webSocketUtils['sendEventToBackend'](_0x7fbeeb,_0x443953),logger[_0x3fe688(0x156)](_0x4db9e2);const _0x1d1e7e=await _0x5038c8[_0x3fe688(0x1d3)]();if(_0x1d1e7e){const _0x534898={};_0x534898[_0x3fe688(0x110)]=WS_EVENTS[_0x3fe688(0x1ef)],_0x534898['message']=_0x3fe688(0x13c)+_0x1e5776+_0x3fe688(0x1c5),webSocketUtils['sendEventToBackend'](_0x7fbeeb,_0x534898,_0x28e2a0['sBiEW']),logger[_0x3fe688(0x156)](_0x3fe688(0x13c)+_0x1e5776+'\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation'),_0x5cab5b=!![];}else{const _0x402a43={};_0x402a43[_0x3fe688(0x110)]=WS_EVENTS['LOG'],_0x402a43[_0x3fe688(0x12b)]=_0x28e2a0[_0x3fe688(0x1b4)],webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0x402a43),logger[_0x3fe688(0x156)](_0x28e2a0['sKYzO']);const _0x8f0ae5=_0x28e2a0[_0x3fe688(0x1e5)](_0x194c38,null)&&_0x28e2a0[_0x3fe688(0x112)](_0x194c38,undefined),_0x54c354=_0x28e2a0[_0x3fe688(0x134)](subnets,null)&&_0x28e2a0[_0x3fe688(0x1d9)](subnets,undefined)&&_0x28e2a0[_0x3fe688(0x101)](subnets[_0x3fe688(0x207)],0x0);if(_0x8f0ae5){_0x28e2a0[_0x3fe688(0x158)](_0x54c354,![])&&(_0x4db9e2=_0x28e2a0['eVRPL'],await _0x28e2a0[_0x3fe688(0x197)](reportToGalactusAndSendToEDS,_0x126234,_0x7fbeeb,_0x4db9e2,messageTypes[_0x3fe688(0x13a)],_0x28e2a0[_0x3fe688(0x188)],_0x28e2a0[_0x3fe688(0x173)],_0x28e2a0['duGCO']),logger['error'](_0x4db9e2),process[_0x3fe688(0x199)](0x1));const _0xe75822=await _0x5038c8['isVPCPresent'](_0x194c38);_0x28e2a0[_0x3fe688(0x158)](_0xe75822,![])?(_0x4db9e2=_0x28e2a0[_0x3fe688(0xf1)],await _0x28e2a0['APKWs'](reportToGalactusAndSendToEDS,_0x126234,_0x7fbeeb,_0x4db9e2,messageTypes['ERROR'],_0x28e2a0[_0x3fe688(0x188)],_0x28e2a0[_0x3fe688(0x16c)],_0x28e2a0[_0x3fe688(0x196)]),logger[_0x3fe688(0x1c7)](_0x4db9e2),process['exit'](0x1)):logger['info'](_0x3fe688(0x12c)+_0x194c38+'\x20');const _0x1a288d=await _0x5038c8[_0x3fe688(0x212)](subnets,_0x194c38);_0x28e2a0['IedsH'](_0x1a288d[0x0],![])?(_0x4db9e2='Subnets:\x20'+_0x1a288d[0x1]+_0x3fe688(0x167)+_0x194c38+_0x3fe688(0x1d0),await _0x28e2a0['Ovauj'](reportToGalactusAndSendToEDS,_0x126234,_0x7fbeeb,_0x4db9e2,messageTypes[_0x3fe688(0x13a)],_0x28e2a0[_0x3fe688(0x188)],_0x28e2a0[_0x3fe688(0x1df)],_0x28e2a0[_0x3fe688(0x196)]),logger[_0x3fe688(0x1c7)](_0x4db9e2),process[_0x3fe688(0x199)](0x1)):logger[_0x3fe688(0x156)](_0x3fe688(0x116)+JSON[_0x3fe688(0xf7)](subnets)+'\x20'),await _0x5038c8[_0x3fe688(0x10c)](_0x194c38,subnets);}else{const _0x4d73db=_0x28e2a0[_0x3fe688(0x1b3)][_0x3fe688(0x211)]('|');let _0x1e5d65=0x0;while(!![]){switch(_0x4d73db[_0x1e5d65++]){case'0':logger[_0x3fe688(0x156)](_0x28e2a0[_0x3fe688(0x13d)]);continue;case'1':await _0x5038c8[_0x3fe688(0x10c)]();continue;case'2':const _0x196c7b={};_0x196c7b['type']=WS_EVENTS[_0x3fe688(0x1ef)],_0x196c7b[_0x3fe688(0x12b)]=_0x3fe688(0x14c),webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0x196c7b);continue;case'3':const _0x2116e1={};_0x2116e1[_0x3fe688(0x110)]=WS_EVENTS[_0x3fe688(0x1ef)],_0x2116e1[_0x3fe688(0x12b)]=_0x28e2a0['QOLUf'],webSocketUtils['sendEventToBackend'](_0x7fbeeb,_0x2116e1);continue;case'4':logger[_0x3fe688(0x156)](_0x28e2a0['LpUha']);continue;}break;}}}}_0x5cab5b&&_0x28e2a0[_0x3fe688(0x17a)](_0x5c1f05,AZURE)&&(global_registry[_0x3fe688(0x1e1)]=_0x2b794a[_0x3fe688(0x19a)],await _0x5038c8['updatePreSpawnedCluster'](),await _0x5038c8[_0x3fe688(0x143)]());const [_0x49aedd,_0x40e610,_0x16b8a,_0x2b538f,_0x17dd7d,_0x44734a]=await _0x28e2a0['vlWmF'](createK8sClient,_0x5038c8);_0x28e2a0[_0x3fe688(0x189)](_0x5cab5b,![])&&_0x28e2a0[_0x3fe688(0x155)](_0x5c1f05,AWS)&&(global_registry[_0x3fe688(0x1b2)]=!![],_0x47bf57=await _0x5038c8[_0x3fe688(0x1cf)](_0x49aedd,_0x126234));try{_0x169013=_0x28e2a0[_0x3fe688(0x107)](kebabCase,_0x302cd1),logger[_0x3fe688(0x156)](_0x28e2a0['Ossva']);const _0x43ace1={};_0x43ace1[_0x3fe688(0x110)]=WS_EVENTS[_0x3fe688(0x1ef)],_0x43ace1[_0x3fe688(0x12b)]=_0x28e2a0[_0x3fe688(0x1a3)],webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0x43ace1);if(_0x28e2a0[_0x3fe688(0x1ab)](_0x169013,_0x28e2a0[_0x3fe688(0x138)])){const _0xac1539={};_0xac1539[_0x3fe688(0x1a1)]=_0x28e2a0[_0x3fe688(0x162)],_0xac1539[_0x3fe688(0xf2)]=_0x28e2a0[_0x3fe688(0x162)];const _0x317c8e={};_0x317c8e[_0x3fe688(0x219)]=_0x169013,_0x317c8e[_0x3fe688(0x115)]=_0xac1539;const _0x298edb={};_0x298edb[_0x3fe688(0x210)]=_0x317c8e;let _0x5abb09=_0x298edb;const _0x5b91dc={};_0x5b91dc['body']=_0x5abb09,await _0x49aedd[_0x3fe688(0x21b)](_0x5b91dc),logger[_0x3fe688(0x156)](_0x28e2a0[_0x3fe688(0x10f)]);}const _0x352ab7={};_0x352ab7[_0x3fe688(0x110)]=WS_EVENTS[_0x3fe688(0x1ef)],_0x352ab7[_0x3fe688(0x12b)]=_0x28e2a0[_0x3fe688(0x106)],webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0x352ab7);const _0x564547={};_0x564547[_0x3fe688(0x110)]=WS_EVENTS[_0x3fe688(0x1ef)],_0x564547[_0x3fe688(0x12b)]=_0x28e2a0[_0x3fe688(0x1f7)],webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0x564547),logger[_0x3fe688(0x156)](_0x28e2a0[_0x3fe688(0x142)]);let _0xf831e6={};_0x28e2a0[_0x3fe688(0x1c2)](_0x5c1f05,AZURE)&&(_0xf831e6={'clientId':await _0x5038c8['getResourceClientId'](_0x3fe688(0x180)+_0x1e5776)});await _0x28e2a0['ATWND'](addGridComponents,_0x49aedd,_0x40e610,_0x16b8a,_0x2b538f,_0x169013,_0x1e5776,_0x47bf57,_0x17dd7d,_0x44734a,_0xf831e6),_0x4db9e2=_0x28e2a0['JNTKl'],logger[_0x3fe688(0x156)](_0x4db9e2);const _0x59deb3={};_0x59deb3['type']=WS_EVENTS[_0x3fe688(0x1ef)],_0x59deb3['message']=_0x4db9e2,webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0x59deb3),_0x4db9e2=_0x28e2a0[_0x3fe688(0x150)],logger[_0x3fe688(0x156)](_0x4db9e2);const _0x30b282={};_0x30b282['type']=WS_EVENTS['LOG'],_0x30b282[_0x3fe688(0x12b)]=_0x4db9e2,webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0x30b282),await webSocketUtils[_0x3fe688(0x1b5)](0xea60);const _0x3a6ca3=await _0x28e2a0[_0x3fe688(0x1a9)](getNamespaceUID,_0x49aedd,_0x169013);let _0x26332f=global_registry[_0x3fe688(0x1ce)]?_0x28e2a0[_0x3fe688(0x202)]:_0x28e2a0[_0x3fe688(0x1f6)];const _0x183410={};_0x183410[_0x3fe688(0x219)]=_0x26332f,_0x183410['namespace']=_0x28e2a0[_0x3fe688(0x1c6)];let _0xe6100d=await _0x49aedd[_0x3fe688(0x214)](_0x183410),_0x392d33=_0x5038c8[_0x3fe688(0x16d)](_0xe6100d)+'/'+_0x169013,_0x13cbf3=_0x28e2a0['GWZRg'];try{const _0xcc7e04=_0x3fe688(0x1bb)+AG_API_URL+_0x3fe688(0x1fc)+_0x3a6ca3,_0xda3f99=await _0x28e2a0['rFLWE'](got,_0xcc7e04,_0x4a6966);(_0x28e2a0[_0x3fe688(0x1a4)](_0xda3f99,null)||_0x28e2a0[_0x3fe688(0x155)](_0xda3f99,undefined))&&(_0x4db9e2=_0x28e2a0[_0x3fe688(0x205)],await _0x28e2a0[_0x3fe688(0x1f5)](reportToGalactusAndSendToEDS,_0x126234,_0x7fbeeb,_0x4db9e2,messageTypes[_0x3fe688(0x13a)],_0x28e2a0[_0x3fe688(0x188)],_0x28e2a0[_0x3fe688(0x216)],_0x28e2a0['duGCO']),logger[_0x3fe688(0x1c7)](_0x4db9e2),process['exit'](0x1));_0x28e2a0[_0x3fe688(0x224)](_0xda3f99['statusCode'],0x191)&&(_0x4db9e2=_0x28e2a0[_0x3fe688(0x19f)],await _0x28e2a0[_0x3fe688(0x1f8)](reportToGalactusAndSendToEDS,_0x126234,_0x7fbeeb,_0x4db9e2,messageTypes[_0x3fe688(0x13a)],_0x28e2a0[_0x3fe688(0x188)],_0x28e2a0[_0x3fe688(0x208)],_0x28e2a0[_0x3fe688(0x196)]),logger[_0x3fe688(0x1c7)](_0x4db9e2),process[_0x3fe688(0x199)](0x1));_0x28e2a0['IoOrM'](_0xda3f99[_0x3fe688(0x16b)],0xc8)&&(_0x4db9e2=_0x3fe688(0x129)+JSON[_0x3fe688(0xf7)](_0xda3f99),await _0x28e2a0[_0x3fe688(0x197)](reportToGalactusAndSendToEDS,_0x126234,_0x7fbeeb,_0x4db9e2,messageTypes[_0x3fe688(0x13a)],_0x28e2a0['DGyFi'],_0x28e2a0[_0x3fe688(0x1dd)],_0x28e2a0[_0x3fe688(0x196)]),logger['error'](_0x4db9e2),process['exit'](0x1));const _0x4d629c=JSON[_0x3fe688(0x123)](_0xda3f99[_0x3fe688(0x165)]);_0x4d629c[_0x3fe688(0x168)]&&(_0x392d33=_0x4d629c[_0x3fe688(0x168)],_0x13cbf3=_0x28e2a0[_0x3fe688(0x1eb)]),global_registry['isPrivateGrid']&&(_0x13cbf3=_0x28e2a0[_0x3fe688(0x1a5)]);}catch(_0x2510f8){}_0x4db9e2=_0x3fe688(0x16f)+_0x392d33+'\x20',logger[_0x3fe688(0x156)](_0x4db9e2);const _0x3d957f={};_0x3d957f[_0x3fe688(0x110)]=WS_EVENTS[_0x3fe688(0x1ef)],_0x3d957f[_0x3fe688(0x12b)]=_0x4db9e2,webSocketUtils['sendEventToBackend'](_0x7fbeeb,_0x3d957f),_0x4db9e2=_0x3fe688(0x133)+_0x13cbf3+_0x3fe688(0x14e)+_0x392d33+_0x3fe688(0x17f),logger[_0x3fe688(0x156)](_0x4db9e2);const _0x4f0648={};_0x4f0648[_0x3fe688(0x110)]=WS_EVENTS[_0x3fe688(0x1ef)],_0x4f0648[_0x3fe688(0x12b)]=_0x4db9e2,webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0x4f0648);const _0x2fd6f0={};_0x2fd6f0['type']=WS_EVENTS[_0x3fe688(0x1da)],_0x2fd6f0[_0x3fe688(0x12b)]=_0x3fe688(0x104)+_0x392d33,webSocketUtils[_0x3fe688(0x127)](_0x7fbeeb,_0x2fd6f0),await webSocketUtils['delay'](0x7d0);}catch(_0x5910ae){if(_0x28e2a0[_0x3fe688(0x13e)](_0x5cab5b,![]))try{logger[_0x3fe688(0x156)](_0x3fe688(0x15e)),await _0x28e2a0['mruXF'](removeGridComponents,_0x49aedd,_0x40e610,_0x16b8a,_0x2b538f,_0x169013),await _0x5038c8[_0x3fe688(0x10e)](_0x49aedd,global_registry[_0x3fe688(0x13f)]);}catch(_0x38e1b2){throw _0x38e1b2;}throw _0x5910ae;}}catch(_0x51e2a9){const _0x240d09=_0x3fe688(0x1ec)+_0x51e2a9+'\x20\x0a'+JSON[_0x3fe688(0xf7)](_0x51e2a9['stack'])+'\x20';if(_0x7fbeeb){const _0x327e4d={};_0x327e4d[_0x3fe688(0x110)]=WS_EVENTS[_0x3fe688(0x1ef)],_0x327e4d[_0x3fe688(0x12b)]=_0x240d09,webSocketUtils['sendEventToBackend'](_0x7fbeeb,_0x327e4d,_0x28e2a0[_0x3fe688(0x196)],!![]);}await webSocketUtils[_0x3fe688(0x1b5)](0x7d0);const _0x3e9302={};_0x3e9302[_0x3fe688(0x1c7)]=_0x240d09,await _0x28e2a0[_0x3fe688(0x1bd)](sendInstrumentationEvent,_0x126234,_0x28e2a0[_0x3fe688(0x188)],messageTypes[_0x3fe688(0x13a)],_0x28e2a0[_0x3fe688(0x1f1)],_0x3e9302,_0x126234),logger['error'](_0x240d09);}process[_0x3fe688(0x199)](0x0);};