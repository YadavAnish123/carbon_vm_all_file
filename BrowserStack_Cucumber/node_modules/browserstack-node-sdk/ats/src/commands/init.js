const a12_0x5066d4=a12_0x252f;(function(_0x54a43c,_0x17cc24){const _0xaf2cdd=a12_0x252f,_0x1161ed=_0x54a43c();while(!![]){try{const _0x35c1b1=-parseInt(_0xaf2cdd(0xae))/0x1*(parseInt(_0xaf2cdd(0xb8))/0x2)+-parseInt(_0xaf2cdd(0x97))/0x3+-parseInt(_0xaf2cdd(0x9a))/0x4+-parseInt(_0xaf2cdd(0x8f))/0x5*(parseInt(_0xaf2cdd(0x8d))/0x6)+-parseInt(_0xaf2cdd(0x87))/0x7+parseInt(_0xaf2cdd(0xb0))/0x8+parseInt(_0xaf2cdd(0xab))/0x9;if(_0x35c1b1===_0x17cc24)break;else _0x1161ed['push'](_0x1161ed['shift']());}catch(_0x54703b){_0x1161ed['push'](_0x1161ed['shift']());}}}(a12_0x2692,0x3ff3d));const fs=require('fs'),util=require(a12_0x5066d4(0xe4)),got=require(a12_0x5066d4(0x91)),{v4:uuidv4}=require('uuid'),{logger}=require(a12_0x5066d4(0xe7)),{inputBstackKeys}=require(a12_0x5066d4(0xc5)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x5066d4(0xcb)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0x5066d4(0xa1));function a12_0x2692(){const _0x1ee546=['2002805MvwZhu','debug','womxg','ndEpm','hsBuf','GILXB','6450aYpDlL','NfKbk','335hvnxnb','yJjKL','got','strict','epilogue','stack','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','handler','1456437ZzbGBZ','stringify','builder','1066036CoNGSL','string','PmsrC','IjTfh','Jjqdz','bstack-accesskey','username','../utils/instrumentationUtils','uicqU','/automate/plan.json','help','statusCode','UPttj','existsSync','WBVQi','argv','utf-8','16129152ACoFLW','dRmGc','password','37OvtztS','Browserstack','528144TgLNFE','bstack-username','bJEOv','readFileSync','init','GET','command','UAVef','26274HJLYfR','EzlAr','lBjSP','Iqyhi','RMTzw','KbBLj','rsxkN','recommendCommands','seUVQ','lDNLb','ySSeg','sSZHk','BXQuT','../utils/userInput','YCVZt','YSaJm','KzYPs','wrong-creds','TwhjA','../config/constants','ZeMpk','unknown-error','error','bstackAccesskey','wpTQC','usage','exit','Pavfo','writeFileSync','PlFjK','rwYQC','options','KYfrF','HTWSx','OgfPG','ygkqt','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','xPurI','parse','jsYZe','BROWSERSTACK_USERNAME','oLKfA','env','ERROR','util','requestId','BROWSERSTACK_ACCESS_KEY','../config/logger','bstackUsername','type','mkdirSync','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','description','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','QbFwj','https://','DThYR','MBjVD'];a12_0x2692=function(){return _0x1ee546;};return a12_0x2692();}function a12_0x252f(_0x330a44,_0x417adf){const _0x2692e9=a12_0x2692();return a12_0x252f=function(_0x252ff5,_0x198b9d){_0x252ff5=_0x252ff5-0x81;let _0x2611c2=_0x2692e9[_0x252ff5];return _0x2611c2;},a12_0x252f(_0x330a44,_0x417adf);}exports[a12_0x5066d4(0xb6)]='init',exports['desc']=a12_0x5066d4(0x95),exports[a12_0x5066d4(0x99)]=function(_0x14a1b9){const _0x4ab0dc=a12_0x5066d4,_0x38bad5={};_0x38bad5['EzlAr']=_0x4ab0dc(0x82),_0x38bad5['lDNLb']='string',_0x38bad5[_0x4ab0dc(0xb2)]=_0x4ab0dc(0xdc),_0x38bad5[_0x4ab0dc(0xbd)]=_0x4ab0dc(0xa4);const _0x29aa1c=_0x38bad5,_0x3d2331={};_0x3d2331[_0x4ab0dc(0x81)]=_0x29aa1c[_0x4ab0dc(0xb9)],_0x3d2331['type']=_0x29aa1c[_0x4ab0dc(0xc1)];const _0xefd037={};_0xefd037['description']=_0x29aa1c['bJEOv'],_0xefd037[_0x4ab0dc(0xe9)]=_0x29aa1c[_0x4ab0dc(0xc1)];const _0x251ed6={};return _0x251ed6['bstack-username']=_0x3d2331,_0x251ed6['bstack-accesskey']=_0xefd037,_0x14a1b9[_0x4ab0dc(0xd1)](HELP_HEADER_MESSAGE[_0x4ab0dc(0xb4)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x4ab0dc(0xd7)](_0x251ed6)[_0x4ab0dc(0xbf)]()['strict']()['help'](_0x29aa1c[_0x4ab0dc(0xbd)])[_0x4ab0dc(0xa9)];},exports[a12_0x5066d4(0x96)]=async function(_0x131373){const _0x4e3593=a12_0x5066d4,_0x3e509b={'BXQuT':function(_0xf2857e){return _0xf2857e();},'OgfPG':_0x4e3593(0xaa),'DThYR':_0x4e3593(0x82),'PlFjK':_0x4e3593(0x9b),'NfKbk':'Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','lBjSP':_0x4e3593(0xa4),'RMTzw':function(_0x436a42,_0x32e8a1,_0x48c595,_0x399fc1,_0x422ba4,_0x5dba2e,_0x437f3c){return _0x436a42(_0x32e8a1,_0x48c595,_0x399fc1,_0x422ba4,_0x5dba2e,_0x437f3c);},'YSaJm':'init-called','Pavfo':function(_0x548273){return _0x548273();},'dRmGc':function(_0x4174b1,_0x71c854){return _0x4174b1!==_0x71c854;},'jsYZe':_0x4e3593(0x9d),'KzYPs':function(_0xee7653,_0xd84cd0){return _0xee7653===_0xd84cd0;},'YeCTy':'QvHNx','seUVQ':'vebRw','uicqU':_0x4e3593(0x83),'rsxkN':_0x4e3593(0x8a),'UAVef':function(_0x2bf5fe,_0x243aa9){return _0x2bf5fe!==_0x243aa9;},'UPttj':_0x4e3593(0xd0),'jZIQU':_0x4e3593(0xdb),'sSZHk':function(_0x332eac,_0x374047){return _0x332eac===_0x374047;},'Jjqdz':function(_0x51e50a,_0x4210d2){return _0x51e50a===_0x4210d2;},'qRdAU':_0x4e3593(0xc2),'tLuHy':'pvmmA','yJjKL':'BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','RnNNh':_0x4e3593(0xb5),'womxg':function(_0x569140,_0x4497f4,_0x5c7c3e){return _0x569140(_0x4497f4,_0x5c7c3e);},'QpAyU':function(_0x5b8680,_0x2d0e6c){return _0x5b8680!==_0x2d0e6c;},'MyZFR':function(_0x2bd9c3,_0x129eb9){return _0x2bd9c3!==_0x129eb9;},'MCZEY':function(_0x3e8efb,_0x5852af){return _0x3e8efb===_0x5852af;},'cvzUN':function(_0x551f6d,_0x249585){return _0x551f6d===_0x249585;},'Iqyhi':'tHGnh','MBjVD':function(_0x384312,_0x26ee28){return _0x384312===_0x26ee28;},'KYfrF':_0x4e3593(0xcc),'YCVZt':function(_0x137dac){return _0x137dac();},'xPurI':_0x4e3593(0x8c),'rwYQC':_0x4e3593(0xca),'PmsrC':_0x4e3593(0xeb),'HTWSx':function(_0x5b4a8b,_0x4deafd,_0x22be41,_0x13b308,_0x6ef9dd,_0x1996b6,_0x131986){return _0x5b4a8b(_0x4deafd,_0x22be41,_0x13b308,_0x6ef9dd,_0x1996b6,_0x131986);},'hsBuf':_0x4e3593(0xc9),'WBVQi':function(_0x3a9ae6,_0x4401b0,_0xa07595,_0x1050f4,_0x348bf9,_0x201991,_0x433db2){return _0x3a9ae6(_0x4401b0,_0xa07595,_0x1050f4,_0x348bf9,_0x201991,_0x433db2);},'oLKfA':_0x4e3593(0xcd)};try{global_registry[_0x4e3593(0xe5)]=_0x3e509b['BXQuT'](uuidv4),_0x3e509b[_0x4e3593(0xbc)](sendInstrumentationEvent,_0x131373,_0x3e509b[_0x4e3593(0xc7)],messageTypes['INFO'],null,null,_0x131373);const _0x3b395c=_0x3e509b[_0x4e3593(0xd3)](getDirForConfig);!fs[_0x4e3593(0xa7)](_0x3b395c)&&(_0x3e509b[_0x4e3593(0xac)](_0x3e509b[_0x4e3593(0xdf)],_0x3e509b['jsYZe'])?_0x487997=_0x97b49b[_0x4e3593(0xe8)]:fs[_0x4e3593(0xea)](_0x3b395c));let _0x250644,_0x4864e8;process[_0x4e3593(0xe2)][_0x4e3593(0xe0)]&&(_0x3e509b[_0x4e3593(0xc8)](_0x3e509b['YeCTy'],_0x3e509b[_0x4e3593(0xc0)])?_0x55c395=!![]:_0x250644=process[_0x4e3593(0xe2)][_0x4e3593(0xe0)]);if(process[_0x4e3593(0xe2)][_0x4e3593(0xe6)]){if(_0x3e509b['dRmGc'](_0x3e509b[_0x4e3593(0xa2)],_0x3e509b['uicqU'])){let _0x2d45a3={};const _0x29036b=_0x3e509b[_0x4e3593(0xc4)](_0x473bd7);_0x4b5a63[_0x4e3593(0xa7)](_0x29036b)&&(_0x2d45a3=_0x1826fe['parse'](_0x339c2e['readFileSync'](_0x29036b,_0x3e509b[_0x4e3593(0xda)])));const _0x2393c5={};_0x2393c5[_0x4e3593(0xa0)]=_0xe0100b,_0x2393c5[_0x4e3593(0xad)]=_0x12d34f,_0x2d45a3['Browserstack']=_0x2393c5,_0xd9da58[_0x4e3593(0xd4)](_0x29036b,_0x819cd9[_0x4e3593(0x98)](_0x2d45a3)),_0x56c59d[_0x4e3593(0xd2)](0x0);}else _0x4864e8=process[_0x4e3593(0xe2)][_0x4e3593(0xe6)];}_0x131373['bstackUsername']&&(_0x3e509b[_0x4e3593(0xac)](_0x3e509b[_0x4e3593(0xbe)],_0x3e509b[_0x4e3593(0xbe)])?_0x415b1b=_0x52da4d[_0x4e3593(0xde)](_0x206420[_0x4e3593(0xb3)](_0x2720b4,_0x3e509b[_0x4e3593(0xda)])):_0x250644=_0x131373[_0x4e3593(0xe8)]);if(_0x131373[_0x4e3593(0xcf)]){if(_0x3e509b[_0x4e3593(0xb7)](_0x3e509b[_0x4e3593(0xa6)],_0x3e509b['jZIQU']))_0x4864e8=_0x131373['bstackAccesskey'];else{const _0x41d4ea={};_0x41d4ea[_0x4e3593(0x81)]=_0x3e509b[_0x4e3593(0x85)],_0x41d4ea['type']=_0x3e509b['PlFjK'];const _0x506aa1={};_0x506aa1['description']=_0x3e509b[_0x4e3593(0x8e)],_0x506aa1['type']=_0x3e509b[_0x4e3593(0xd5)];const _0x35b386={};return _0x35b386[_0x4e3593(0xb1)]=_0x41d4ea,_0x35b386[_0x4e3593(0x9f)]=_0x506aa1,_0x553a26[_0x4e3593(0xd1)](_0x254af5[_0x4e3593(0xb4)])[_0x4e3593(0x93)](_0x564bc5)['options'](_0x35b386)['recommendCommands']()[_0x4e3593(0x92)]()[_0x4e3593(0xa4)](_0x3e509b[_0x4e3593(0xba)])[_0x4e3593(0xa9)];}}if(_0x3e509b[_0x4e3593(0xc3)](_0x250644,undefined)||_0x3e509b[_0x4e3593(0x9e)](_0x4864e8,undefined)){if(_0x3e509b[_0x4e3593(0xc3)](_0x3e509b['qRdAU'],_0x3e509b['tLuHy']))_0x2584be=_0x54160b[_0x4e3593(0xe2)][_0x4e3593(0xe0)];else{logger[_0x4e3593(0x88)](_0x3e509b[_0x4e3593(0x90)]);const [_0x5dcb8b,_0x3bdc91]=await _0x3e509b[_0x4e3593(0xd3)](inputBstackKeys);_0x250644=_0x5dcb8b,_0x4864e8=_0x3bdc91;}}let _0x524e97=![];const _0x322ea5=_0x4e3593(0x84)+_0x250644+':'+_0x4864e8+'@'+BS_API_URL+_0x4e3593(0xa3),_0x948944={'method':_0x3e509b['RnNNh'],'headers':_0x3e509b['womxg'](getAuthHeader,_0x250644,_0x4864e8)},_0x49b2c8=await _0x3e509b[_0x4e3593(0x89)](got,_0x322ea5,_0x948944);_0x3e509b['QpAyU'](_0x49b2c8,null)&&_0x3e509b['MyZFR'](_0x49b2c8,undefined)&&_0x3e509b['MCZEY'](_0x49b2c8[_0x4e3593(0xa5)],0xc8)&&(_0x3e509b['cvzUN'](_0x3e509b[_0x4e3593(0xbb)],_0x3e509b[_0x4e3593(0xbb)])?_0x524e97=!![]:_0x1ea1c5=_0x5014cf[_0x4e3593(0xe2)][_0x4e3593(0xe6)]);if(_0x524e97){if(_0x3e509b[_0x4e3593(0x86)](_0x3e509b[_0x4e3593(0xd8)],_0x3e509b[_0x4e3593(0xd8)])){let _0x298e93={};const _0x45a318=_0x3e509b[_0x4e3593(0xc6)](getCredentialsPath);fs[_0x4e3593(0xa7)](_0x45a318)&&(_0x3e509b[_0x4e3593(0xc3)](_0x3e509b[_0x4e3593(0xdd)],_0x3e509b[_0x4e3593(0xd6)])?_0x41b439=_0x427528[_0x4e3593(0xcf)]:_0x298e93=JSON[_0x4e3593(0xde)](fs[_0x4e3593(0xb3)](_0x45a318,_0x3e509b['OgfPG'])));const _0x647cad={};_0x647cad[_0x4e3593(0xa0)]=_0x250644,_0x647cad[_0x4e3593(0xad)]=_0x4864e8,_0x298e93[_0x4e3593(0xaf)]=_0x647cad,fs['writeFileSync'](_0x45a318,JSON[_0x4e3593(0x98)](_0x298e93)),process[_0x4e3593(0xd2)](0x0);}else _0xdf691f[_0x4e3593(0xea)](_0x57a864);}else logger[_0x4e3593(0xce)](_0x3e509b[_0x4e3593(0x9c)]),await _0x3e509b[_0x4e3593(0xd9)](sendInstrumentationEvent,_0x131373,_0x3e509b[_0x4e3593(0xc7)],messageTypes['ERROR'],_0x3e509b[_0x4e3593(0x8b)],null,_0x131373),process['exit'](0x1);}catch(_0x38f3dc){logger[_0x4e3593(0xce)](_0x38f3dc[_0x4e3593(0x94)]),await _0x3e509b[_0x4e3593(0xa8)](sendInstrumentationEvent,_0x131373,_0x3e509b['YSaJm'],messageTypes[_0x4e3593(0xe3)],_0x3e509b[_0x4e3593(0xe1)],_0x38f3dc,_0x131373),process[_0x4e3593(0xd2)](0x1);}};