const a28_0x920bef=a28_0x56c2;function a28_0x284f(){const _0x1d6244=['zvFoX','IzioW','1099248VuxOdU','metrics-server','TVpuT','Removed\x20grid\x20components','jCthN','rYkds','Added\x20Turboscale\x20Agent','bcGSR','hqdzU','slsgV','qsSJb','fwWvp','oUtqz','UySew','dmxtr','body','xInFH','JMCzi','421803IKsvBT','685531odRcPV','service.yaml','load','HLIgz','LFfIW','createNamespacedServiceAccount','browser-node-cluster-role.yaml','service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','Added\x20Cert\x20Manager\x20CRDs','IifbH','utf-8','jFbbO','Adding\x20Autoscaler\x20Components','fdhpM','Adding\x20Autoscaler\x20clusterRole','SyZkV','vdkhs','Adding\x20MetricsServer\x20Service','dIRCu','AqrNV','Deleting\x20Turboscale\x20Agent','Added\x20VPC\x20CNI\x20ConfigMaps','addGridComponents','dXjXF','TtMXU','\x20cloudformation\x20stacks\x20from\x20region\x20','TbqMx','SzvaH','bstackAccesskey','sOPLg','replaceNamespacedDeployment','browser-node-service-account.yaml','LppZO','nCmRT','1642360AIUFOm','mErkh','hub-deployment.yaml','hubVersion','ingress.yaml','Adding\x20MetricsServer\x20Deployment','template','WaLRn','crds.yaml','createClusterRole','createNamespacedDeployment','KkHxL','ufAfV','10317230QngkcL','spec','rfjyk','ZKbUw','tHkxT','Adding\x20VPC\x20CNI\x20CM','iYovO','Deleted\x20ingress-nginx','./deleteStack','clusterrole.yaml','./utilityMethods','deleteClusterAndDependencies','WKsfy','RQKRc','KnuKA','YBtyr','Added\x20browser-node-role\x20cluster\x20role','6|0|7|3|1|5|4|2','\x20&\x20','Adding\x20browser-node-role\x20cluster\x20role','jyqQn','vpc-cni-cm.yaml','Added\x20Ingress','hgGvs','LdPmr','LwQGb','9977YtrYMM','YZofv','skZzV','KlWLS','yZgTX','pdoos','YaSWV','Added\x20default\x20service\x20account','service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22','Adding\x20clusterrolebinding','NSPlO','pyAUk','Adding\x20MetricsServer\x20clusterRoleBinding','caEVn','WaCGm','../config/logger','yXzPP','BnJbU','Adding\x20Autoscaler\x20Deployment','RRLcf','NMGDn','OJuSv','ZEVUm','aPoSf','RTSWC','19|4|25|11|27|22|5|1|12|23|13|10|18|35|16|20|26|15|7|31|8|9|21|6|29|2|28|24|34|3|32|30|14|33|17|0','NDkTC','xSdYj','AQAFS','default','sfwAE','jcpty','browserstack-turboscale-grid','MixOw','uuid','addAutoScalerComponents','djfAE','ZhNhY','turboscale-agent.yaml','RRmbI','ZadEq','cluster-role-binding-auth-delegator.yaml','browserVersion','path','Deleting\x20cert-manager','networking.gke.io/load-balancer-type:\x20\x22Internal\x22','readNamespacedDeployment','Deleted\x20Turboscale\x20Agent','eWORJ','readNamespace','odrzN','elrYu','Scaled\x20down\x20deployment','addMetricServerComponents','973468yeKNRB','xsMWI','Adding\x20Autoscaler\x20clusterRoleBinding','byayc','tFYTY','clientId','nXYeM','Added\x20Nginx\x20Pods\x20and\x20deployments','IDKoF','clusterRegion','JTGfp','pods-and-services.yaml','tFALu','Adding\x20Cert\x20Manager\x20CRDs','FVflS','<ClusterName>','Adding\x20Autoscaler\x20namespacedRoleBinding','pgWYr','xxnjL','name','zesLM','xhfnD','cert-manager.yaml','Added\x20Cert\x20Manager','Adding\x20Turboscale\x20Agent','poJKY','nXFDN','hJmex','Adding\x20Autoscaler\x20Service\x20Account','default-service-account.yaml','DPmlj','createNamespacedRole','Tlbpe','browserstack','aPXwH','statusCode','replace','Adding\x20MetricsServer\x20namespacedRoleBinding','tmqKa','123456','Added\x20Autoscaler\x20Components','rSmns','LDwSZ','wQkSY','length','zlWSk','18732otrGfs','Adding\x20MetricsServer\x20clusterRole','wvWMs','xzEeW','dxHLM','khhsu','autoscaler','tjsJe','private-pods-and-services.yaml','EmfdG','oLSTv','qVasb','HTtSx','Adding\x20Nginx\x20Pods\x20and\x20deployments','YakcF','metricsServerServiceExists','UjuTS','MUCOz','SVqTU','gwApp','UXhcc','iaArZ','fddDZ','zckTA','RnrCh','Deleting\x20','bnmUd','Deleting\x20ingress-nginx','EmoHt','shbmN','ingress-nginx','MaXzu','EMeRX','ZuYXk','uSitM','gridName','fWQWS','QQclJ','createAPIService','cMFZc','deployer-srvacct-binding-','dPliI','BNGhs','createNamespacedService','azure.workload.identity/client-id','TgfYK','FuMdF','Adding\x20MetricsServer\x20API\x20Service','labels','Removing\x20grid\x20components','ujMZT','cluster-role-binding.yaml','aXPgc','aIQeg','replaceNamespacedServiceAccount','deleteAgent','QNyNP','Adding\x20MetricsServer\x20Components','25ICHrNw','ADGHS','AqZvz','../utils/webSocketUtils','Deleting\x20clusterrolebinding','cloudProvider','templates','yartz','false','rmkGL','dGWdS','eks.amazonaws.com/role-arn','xavxr','XnIUi','hPJvn','pHPwe','join','LZHEl','listNamespacedService','HRjxR','deleteRoutingDeps','nAXss','kveNM','kube-system','FGpEc','items','kiBUe','hPxDr','uSmcJ','sa.yaml','true','136smJOzn','BUGlq','Adding\x20default\x20service\x20account','annotations','browser-node-cluster-role-binding.yaml','info','Adding\x20MetricsServer\x20Service\x20Account','createNamespacedRoleBinding','ctxRE','namespaceExists','PXlLo','gBAXq','sSqQQ','COORz','nginx','euDqT','HLiWy','YFecW','bstackUsername','Scaling\x20up\x20deployment','code','split','gridProfileId','readFileAsync','gJiEm','HNSbt','2sxsFNh','XZrrh','../config/constants','Added\x20hubdeployment','XucIr','Adding\x20MetricsServer\x20clusterRole\x20for\x20aggregated\x20reader','ykuFg','2|1|3|0|5|6|4','deployment.yaml','LVCEe','RpWtf','3|1|0|7|4|5|6|9|8|2','loadAll','lyBvv','CiOzE','tgeou','createClusterRoleBinding','3imTINA','iDglK','NCnaK','deleteNamespace','message','namespace','MRcAC','Added\x20Cert\x20Issuer','sACwz','clusterissuer.yaml','vtFcY','role-binding.yaml','js-yaml','metadata','pGxNy','qGbaF','scaleDownHubDeployment','Adding\x20browser-node-role-binding\x20role\x20binding','UXYst','rntqC','lOnZL','scaleUpHubDeployment','clusterName','Deleted\x20clusterrolebinding','Adding\x20Cert\x20Manager','role.yaml','HisKn','removeGridComponents','isNewAWSCluster','CxnVt','debug','Adding\x20Cert\x20Issuer','Added\x20Nginx\x20Private\x20Pods\x20and\x20deployments','Adding\x20browser-node\x20service\x20account','replicas','all','idPRx','Added\x20browser-node\x20service\x20account','iejKo','cznMm','mNnCh','NKKjc','Scaling\x20down\x20deployment','cluster-role-aggregated-reader.yaml','higjt','NaTGi','suDFg','Adding\x20Nginx\x20Private\x20Pods\x20and\x20Services','Scaled\x20up\x20deployment','CSjdJ','hub-service.yaml','SVzON','evVNE'];a28_0x284f=function(){return _0x1d6244;};return a28_0x284f();}(function(_0x49d670,_0x206849){const _0x264cce=a28_0x56c2,_0x4c088d=_0x49d670();while(!![]){try{const _0x498fd4=-parseInt(_0x264cce(0x1ed))/0x1*(-parseInt(_0x264cce(0x2c7))/0x2)+-parseInt(_0x264cce(0x1fe))/0x3*(parseInt(_0x264cce(0x26a))/0x4)+parseInt(_0x264cce(0x1b4))/0x5*(-parseInt(_0x264cce(0x235))/0x6)+-parseInt(_0x264cce(0x248))/0x7+-parseInt(_0x264cce(0x1d3))/0x8*(-parseInt(_0x264cce(0x247))/0x9)+-parseInt(_0x264cce(0x277))/0xa+-parseInt(_0x264cce(0x291))/0xb*(-parseInt(_0x264cce(0x17a))/0xc);if(_0x498fd4===_0x206849)break;else _0x4c088d['push'](_0x4c088d['shift']());}catch(_0xd8d6fe){_0x4c088d['push'](_0x4c088d['shift']());}}}(a28_0x284f,0xb2294));const fs=require('fs'),yaml=require(a28_0x920bef(0x20a)),path=require(a28_0x920bef(0x2bc)),{v4:uuidv4}=require(a28_0x920bef(0x2b3)),{logger}=require(a28_0x920bef(0x2a0)),{AG_API_URL,global_registry,CLUSTER_DEP_STACK_NAME,CLUSTER_AUTOSCALER_STACK_NAME,AZURE,GCP}=require(a28_0x920bef(0x1ef)),{deleteClusterStack}=require(a28_0x920bef(0x27f)),{kubeApply}=require(a28_0x920bef(0x281)),{delay}=require(a28_0x920bef(0x1b7)),applyTemplate=async(_0x6c2041,_0x2060a3,_0x387f80={})=>{const _0x4f5c1b=a28_0x920bef,_0x471e97={};_0x471e97[_0x4f5c1b(0x1a7)]=_0x4f5c1b(0x173),_0x471e97[_0x4f5c1b(0x194)]='service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22',_0x471e97[_0x4f5c1b(0x18f)]='service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22',_0x471e97[_0x4f5c1b(0x17f)]=_0x4f5c1b(0x1d2),_0x471e97['yZgTX']=_0x4f5c1b(0x1ba),_0x471e97[_0x4f5c1b(0x2d1)]='utf-8',_0x471e97[_0x4f5c1b(0x18a)]=_0x4f5c1b(0x1bc),_0x471e97[_0x4f5c1b(0x166)]=function(_0x4936cf,_0x27a62e){return _0x4936cf!=_0x27a62e;},_0x471e97[_0x4f5c1b(0x234)]=function(_0x1bd3b6,_0x392e53){return _0x1bd3b6!==_0x392e53;},_0x471e97[_0x4f5c1b(0x1ae)]=function(_0x50d01a,_0x4555cb){return _0x50d01a!==_0x4555cb;},_0x471e97[_0x4f5c1b(0x1ee)]='FqIlr',_0x471e97['yXzPP']=_0x4f5c1b(0x211),_0x471e97[_0x4f5c1b(0x251)]=function(_0xf44da8,_0x5c4f54){return _0xf44da8!==_0x5c4f54;},_0x471e97[_0x4f5c1b(0x1a8)]=_0x4f5c1b(0x199),_0x471e97[_0x4f5c1b(0x2a5)]=_0x4f5c1b(0x2b0),_0x471e97['BueqB']=function(_0x5bc8ac,_0x1fc304){return _0x5bc8ac===_0x1fc304;},_0x471e97[_0x4f5c1b(0x1bb)]=function(_0x531bc3,_0x437beb){return _0x531bc3!==_0x437beb;},_0x471e97[_0x4f5c1b(0x233)]='clientId',_0x471e97[_0x4f5c1b(0x1f3)]=_0x4f5c1b(0x227),_0x471e97[_0x4f5c1b(0x1e4)]=_0x4f5c1b(0x225),_0x471e97['AqrNV']=function(_0x3f23cc,_0x4475b9){return _0x3f23cc===_0x4475b9;},_0x471e97[_0x4f5c1b(0x29c)]=function(_0x1b9a74,_0x21347c){return _0x1b9a74===_0x21347c;},_0x471e97['lOnZL']='hub-deployment.yaml',_0x471e97[_0x4f5c1b(0x218)]='dXNUH';const _0x5cc0d9=_0x471e97;let _0x26d665=await fs[_0x4f5c1b(0x1ea)](path[_0x4f5c1b(0x1c4)](__dirname,'..',_0x5cc0d9[_0x4f5c1b(0x295)],_0x6c2041),_0x5cc0d9[_0x4f5c1b(0x2d1)]);_0x26d665=_0x26d665[_0x4f5c1b(0x170)](/<GridNamespace>/g,_0x2060a3),_0x26d665=_0x26d665['replace'](/<BstackURL>/g,AG_API_URL),_0x26d665=_0x26d665['replace'](/<ClusterName>/g,global_registry[_0x4f5c1b(0x214)]),_0x26d665=_0x26d665[_0x4f5c1b(0x170)](/<BstackUsername>/g,global_registry[_0x4f5c1b(0x1e5)]),_0x26d665=_0x26d665[_0x4f5c1b(0x170)](/<BstackAccessKey>/g,global_registry['bstackAccesskey']),_0x26d665=_0x26d665[_0x4f5c1b(0x170)](/<GridName>/g,global_registry[_0x4f5c1b(0x19d)]),_0x26d665=_0x26d665[_0x4f5c1b(0x170)](/<Region>/g,global_registry[_0x4f5c1b(0x2d0)]),_0x26d665=_0x26d665['replace'](/<CloudProvider>/g,global_registry[_0x4f5c1b(0x1b9)]),_0x26d665=_0x26d665[_0x4f5c1b(0x170)](/<HubImageVersion>/g,global_registry[_0x4f5c1b(0x26d)]),_0x26d665=_0x26d665['replace'](/<BrowserImageVersion>/g,global_registry[_0x4f5c1b(0x2bb)]),_0x26d665=_0x26d665['replace'](/<PrivateGrid>/g,global_registry['isPrivateGrid']?_0x5cc0d9[_0x4f5c1b(0x17f)]:_0x5cc0d9['UjuTS']);if(_0x5cc0d9[_0x4f5c1b(0x166)](global_registry[_0x4f5c1b(0x1e9)],null)&&_0x5cc0d9['IzioW'](global_registry[_0x4f5c1b(0x1e9)],undefined)){if(_0x5cc0d9[_0x4f5c1b(0x1ae)](_0x5cc0d9[_0x4f5c1b(0x1ee)],_0x5cc0d9[_0x4f5c1b(0x2a1)]))_0x26d665=_0x26d665[_0x4f5c1b(0x170)](/<GridProfileID>/g,global_registry[_0x4f5c1b(0x1e9)]);else return _0x5cc0d9[_0x4f5c1b(0x1a7)];}else _0x5cc0d9['IifbH'](_0x5cc0d9[_0x4f5c1b(0x1a8)],_0x5cc0d9[_0x4f5c1b(0x2a5)])?_0x26d665=_0x26d665[_0x4f5c1b(0x170)](/<GridProfileID>/g,''):_0x5f0330=_0x5cc0d9[_0x4f5c1b(0x194)];const _0x3fb9b4=yaml[_0x4f5c1b(0x24a)](_0x26d665);if(_0x5cc0d9['BueqB'](global_registry['cloudProvider'],AZURE)&&_0x5cc0d9[_0x4f5c1b(0x1bb)](_0x387f80[_0x5cc0d9['zvFoX']],undefined)){if(_0x5cc0d9[_0x4f5c1b(0x234)](_0x5cc0d9[_0x4f5c1b(0x1f3)],_0x5cc0d9[_0x4f5c1b(0x1e4)])){const _0x511229={};_0x511229['azure.workload.identity/client-id']=''+_0x387f80[_0x4f5c1b(0x2cc)],_0x3fb9b4[_0x4f5c1b(0x20b)]={'annotations':_0x511229,..._0x3fb9b4[_0x4f5c1b(0x20b)]};}else _0x52b007=_0x5cc0d9['iaArZ'];}if(_0x5cc0d9[_0x4f5c1b(0x25b)](global_registry[_0x4f5c1b(0x1b9)],AZURE)&&_0x5cc0d9[_0x4f5c1b(0x29c)](_0x6c2041,_0x5cc0d9[_0x4f5c1b(0x212)])){if(_0x5cc0d9[_0x4f5c1b(0x29c)](_0x5cc0d9[_0x4f5c1b(0x218)],_0x5cc0d9[_0x4f5c1b(0x218)]))_0x3fb9b4[_0x4f5c1b(0x278)][_0x4f5c1b(0x270)][_0x4f5c1b(0x20b)][_0x4f5c1b(0x1aa)]={'azure.workload.identity/use':_0x5cc0d9[_0x4f5c1b(0x17f)],..._0x3fb9b4['spec'][_0x4f5c1b(0x270)][_0x4f5c1b(0x20b)][_0x4f5c1b(0x1aa)]};else{const _0xe8d08d={'azure.workload.identity/use':_0x5cc0d9['khhsu'],..._0x50be9e[_0x4f5c1b(0x278)]['template'][_0x4f5c1b(0x20b)][_0x4f5c1b(0x1aa)]};_0x3c325b[_0x4f5c1b(0x278)]['template'][_0x4f5c1b(0x20b)]['labels']=_0xe8d08d;}}return _0x3fb9b4;};function a28_0x56c2(_0x4b7ede,_0x2a0e8d){const _0x284f00=a28_0x284f();return a28_0x56c2=function(_0x56c281,_0x18594f){_0x56c281=_0x56c281-0x15e;let _0x5a34a2=_0x284f00[_0x56c281];return _0x5a34a2;},a28_0x56c2(_0x4b7ede,_0x2a0e8d);}exports['addAutoScalerComponents']=async(_0x4d95b0,_0x341d6f,_0x25024d,_0x27ad6c,_0x14b6a1,_0x406941,_0x46cebe)=>{const _0x18c0b4=a28_0x920bef,_0x1a1868={};_0x1a1868['pgWYr']=_0x18c0b4(0x168),_0x1a1868['jFbbO']=_0x18c0b4(0x1ba),_0x1a1868[_0x18c0b4(0x1b2)]=_0x18c0b4(0x180),_0x1a1868[_0x18c0b4(0x191)]=_0x18c0b4(0x1d1),_0x1a1868['xzEeW']=_0x18c0b4(0x252),_0x1a1868[_0x18c0b4(0x2b9)]=_0x18c0b4(0x1bf),_0x1a1868[_0x18c0b4(0x1cf)]=_0x18c0b4(0x1cb),_0x1a1868[_0x18c0b4(0x2ab)]=_0x18c0b4(0x256),_0x1a1868[_0x18c0b4(0x200)]=_0x18c0b4(0x280),_0x1a1868['LFfIW']='Adding\x20Autoscaler\x20namespacedRole',_0x1a1868[_0x18c0b4(0x1e3)]=_0x18c0b4(0x217),_0x1a1868[_0x18c0b4(0x1ff)]=_0x18c0b4(0x2c9),_0x1a1868[_0x18c0b4(0x1db)]=_0x18c0b4(0x1ad),_0x1a1868[_0x18c0b4(0x27d)]=_0x18c0b4(0x2d7),_0x1a1868[_0x18c0b4(0x184)]=_0x18c0b4(0x209),_0x1a1868[_0x18c0b4(0x18e)]=_0x18c0b4(0x2a3),_0x1a1868[_0x18c0b4(0x1c7)]=_0x18c0b4(0x1f5),_0x1a1868['RQKRc']=_0x18c0b4(0x2d6);const _0x3c2da9=_0x1a1868;let _0x22f309=null,_0x28bd49=null;logger[_0x18c0b4(0x1d8)](_0x3c2da9[_0x18c0b4(0x2d8)]),_0x28bd49=await fs[_0x18c0b4(0x1ea)](path[_0x18c0b4(0x1c4)](__dirname,'..',_0x3c2da9[_0x18c0b4(0x253)],_0x3c2da9[_0x18c0b4(0x1b2)],_0x3c2da9['zckTA']),_0x3c2da9[_0x18c0b4(0x17d)]),_0x22f309=yaml['load'](_0x28bd49),_0x22f309[_0x18c0b4(0x20b)][_0x18c0b4(0x1d6)][_0x3c2da9[_0x18c0b4(0x2b9)]]=_0x46cebe;const _0x2bd2e9={};_0x2bd2e9[_0x18c0b4(0x203)]=_0x3c2da9['hPxDr'],_0x2bd2e9[_0x18c0b4(0x244)]=_0x22f309,await _0x4d95b0[_0x18c0b4(0x24d)](_0x2bd2e9),logger[_0x18c0b4(0x1d8)](_0x3c2da9[_0x18c0b4(0x2ab)]),_0x28bd49=await fs['readFileAsync'](path[_0x18c0b4(0x1c4)](__dirname,'..',_0x3c2da9[_0x18c0b4(0x253)],_0x3c2da9[_0x18c0b4(0x1b2)],_0x3c2da9['NCnaK']),_0x3c2da9[_0x18c0b4(0x17d)]),_0x22f309=yaml[_0x18c0b4(0x24a)](_0x28bd49);const _0x4b2432={};_0x4b2432[_0x18c0b4(0x244)]=_0x22f309,await _0x27ad6c[_0x18c0b4(0x273)](_0x4b2432),logger[_0x18c0b4(0x1d8)](_0x3c2da9[_0x18c0b4(0x24c)]),_0x28bd49=await fs[_0x18c0b4(0x1ea)](path[_0x18c0b4(0x1c4)](__dirname,'..',_0x3c2da9[_0x18c0b4(0x253)],_0x3c2da9['QNyNP'],_0x3c2da9[_0x18c0b4(0x1e3)]),_0x3c2da9['xzEeW']),_0x22f309=yaml[_0x18c0b4(0x24a)](_0x28bd49);const _0x224332={};_0x224332[_0x18c0b4(0x203)]=_0x3c2da9[_0x18c0b4(0x1cf)],_0x224332[_0x18c0b4(0x244)]=_0x22f309,await _0x27ad6c[_0x18c0b4(0x16b)](_0x224332),logger[_0x18c0b4(0x1d8)](_0x3c2da9[_0x18c0b4(0x1ff)]),_0x28bd49=await fs[_0x18c0b4(0x1ea)](path[_0x18c0b4(0x1c4)](__dirname,'..',_0x3c2da9['jFbbO'],_0x3c2da9[_0x18c0b4(0x1b2)],_0x3c2da9[_0x18c0b4(0x1db)]),_0x3c2da9[_0x18c0b4(0x17d)]),_0x22f309=yaml[_0x18c0b4(0x24a)](_0x28bd49);const _0x54c88b={};_0x54c88b[_0x18c0b4(0x244)]=_0x22f309,await _0x27ad6c[_0x18c0b4(0x1fd)](_0x54c88b),logger[_0x18c0b4(0x1d8)](_0x3c2da9[_0x18c0b4(0x27d)]),_0x28bd49=await fs['readFileAsync'](path['join'](__dirname,'..',_0x3c2da9[_0x18c0b4(0x253)],_0x3c2da9[_0x18c0b4(0x1b2)],_0x3c2da9['oLSTv']),_0x3c2da9['xzEeW']),_0x22f309=yaml[_0x18c0b4(0x24a)](_0x28bd49);const _0x48d433={};_0x48d433[_0x18c0b4(0x203)]=_0x3c2da9['hPxDr'],_0x48d433['body']=_0x22f309,await _0x27ad6c[_0x18c0b4(0x1da)](_0x48d433),logger[_0x18c0b4(0x1d8)](_0x3c2da9['UXhcc']),_0x28bd49=await fs[_0x18c0b4(0x1ea)](path[_0x18c0b4(0x1c4)](__dirname,'..',_0x3c2da9['jFbbO'],_0x3c2da9[_0x18c0b4(0x1b2)],_0x3c2da9['HRjxR']),_0x3c2da9['xzEeW']),_0x28bd49=_0x28bd49['replace'](_0x3c2da9[_0x18c0b4(0x284)],_0x406941),_0x22f309=yaml[_0x18c0b4(0x24a)](_0x28bd49);const _0x3b0d8e={};_0x3b0d8e['namespace']=_0x3c2da9[_0x18c0b4(0x1cf)],_0x3b0d8e[_0x18c0b4(0x244)]=_0x22f309,await _0x341d6f['createNamespacedDeployment'](_0x3b0d8e);},exports['addMetricServerComponents']=async(_0xe678a9,_0x348b95,_0x5b1806,_0x3bef6a)=>{const _0x4d11bc=a28_0x920bef,_0x18848b={};_0x18848b[_0x4d11bc(0x1c5)]=_0x4d11bc(0x2aa),_0x18848b[_0x4d11bc(0x29e)]=_0x4d11bc(0x1ba),_0x18848b[_0x4d11bc(0x2b2)]=_0x4d11bc(0x236),_0x18848b[_0x4d11bc(0x2a2)]=_0x4d11bc(0x249),_0x18848b[_0x4d11bc(0x19f)]=_0x4d11bc(0x252),_0x18848b['fdhpM']=_0x4d11bc(0x1f5),_0x18848b[_0x4d11bc(0x237)]='service-account.yaml',_0x18848b[_0x4d11bc(0x1a3)]=_0x4d11bc(0x29d),_0x18848b[_0x4d11bc(0x1fc)]=_0x4d11bc(0x1ad),_0x18848b[_0x4d11bc(0x293)]=_0x4d11bc(0x1cb),_0x18848b[_0x4d11bc(0x208)]=_0x4d11bc(0x17b),_0x18848b[_0x4d11bc(0x1fa)]=_0x4d11bc(0x1a9),_0x18848b['KkHxL']=_0x4d11bc(0x2ba),_0x18848b[_0x4d11bc(0x2cb)]=_0x4d11bc(0x171),_0x18848b[_0x4d11bc(0x15e)]=_0x4d11bc(0x1d9),_0x18848b[_0x4d11bc(0x1c2)]=_0x4d11bc(0x229),_0x18848b['rmkGL']='cluster-role.yaml',_0x18848b['ufAfV']=_0x4d11bc(0x1f2),_0x18848b['aPoSf']=_0x4d11bc(0x259),_0x18848b[_0x4d11bc(0x1c1)]='api-service.yaml',_0x18848b[_0x4d11bc(0x279)]=_0x4d11bc(0x26f),_0x18848b[_0x4d11bc(0x1ce)]=_0x4d11bc(0x209);const _0x129006=_0x18848b,_0x113365=_0x129006['LZHEl']['split']('|');let _0x4186ba=0x0;while(!![]){switch(_0x113365[_0x4186ba++]){case'0':const _0x3214e9={};_0x3214e9['body']=templateBody,await _0x3bef6a[_0x4d11bc(0x1a0)](_0x3214e9);continue;case'1':const _0x2c5db1={};_0x2c5db1[_0x4d11bc(0x244)]=templateBody,await _0x5b1806[_0x4d11bc(0x273)](_0x2c5db1);continue;case'2':yamlTemplate=await fs[_0x4d11bc(0x1ea)](path['join'](__dirname,'..',_0x129006[_0x4d11bc(0x29e)],_0x129006[_0x4d11bc(0x2b2)],_0x129006[_0x4d11bc(0x2a2)]),_0x129006[_0x4d11bc(0x19f)]);continue;case'3':yamlTemplate=await fs[_0x4d11bc(0x1ea)](path['join'](__dirname,'..',_0x129006[_0x4d11bc(0x29e)],_0x129006['MixOw'],_0x129006[_0x4d11bc(0x255)]),_0x129006[_0x4d11bc(0x19f)]);continue;case'4':yamlTemplate=await fs['readFileAsync'](path[_0x4d11bc(0x1c4)](__dirname,'..',_0x129006['caEVn'],_0x129006[_0x4d11bc(0x2b2)],_0x129006[_0x4d11bc(0x237)]),_0x129006['QQclJ']);continue;case'5':templateBody=yaml['load'](yamlTemplate);continue;case'6':const _0xe94449={};_0xe94449[_0x4d11bc(0x244)]=templateBody,await _0x5b1806[_0x4d11bc(0x1fd)](_0xe94449);continue;case'7':templateBody=yaml[_0x4d11bc(0x24a)](yamlTemplate);continue;case'8':logger[_0x4d11bc(0x1d8)](_0x129006['dPliI']);continue;case'9':yamlTemplate=await fs[_0x4d11bc(0x1ea)](path[_0x4d11bc(0x1c4)](__dirname,'..',_0x129006['caEVn'],_0x129006['MixOw'],_0x129006[_0x4d11bc(0x1fc)]),_0x129006[_0x4d11bc(0x19f)]);continue;case'10':const _0x9218d5={};_0x9218d5[_0x4d11bc(0x244)]=templateBody,await _0x5b1806[_0x4d11bc(0x273)](_0x9218d5);continue;case'11':const _0xecdef3={};_0xecdef3['namespace']=_0x129006[_0x4d11bc(0x293)],_0xecdef3[_0x4d11bc(0x244)]=templateBody,await _0xe678a9[_0x4d11bc(0x24d)](_0xecdef3);continue;case'12':logger['info'](_0x129006[_0x4d11bc(0x208)]);continue;case'13':templateBody=yaml[_0x4d11bc(0x24a)](yamlTemplate);continue;case'14':logger[_0x4d11bc(0x1d8)](_0x129006['lyBvv']);continue;case'15':yamlTemplate=await fs[_0x4d11bc(0x1ea)](path[_0x4d11bc(0x1c4)](__dirname,'..',_0x129006[_0x4d11bc(0x29e)],_0x129006[_0x4d11bc(0x2b2)],_0x129006[_0x4d11bc(0x275)]),_0x129006['QQclJ']);continue;case'16':templateBody=yaml[_0x4d11bc(0x24a)](yamlTemplate);continue;case'17':templateBody=yaml['load'](yamlTemplate);continue;case'18':logger['info'](_0x129006[_0x4d11bc(0x2cb)]);continue;case'19':logger[_0x4d11bc(0x1d8)](_0x129006[_0x4d11bc(0x15e)]);continue;case'20':const _0x50172a={};_0x50172a[_0x4d11bc(0x203)]=_0x129006[_0x4d11bc(0x293)],_0x50172a[_0x4d11bc(0x244)]=templateBody,await _0x5b1806[_0x4d11bc(0x1da)](_0x50172a);continue;case'21':templateBody=yaml[_0x4d11bc(0x24a)](yamlTemplate);continue;case'22':yamlTemplate=await fs[_0x4d11bc(0x1ea)](path[_0x4d11bc(0x1c4)](__dirname,'..',_0x129006['caEVn'],_0x129006[_0x4d11bc(0x2b2)],_0x129006[_0x4d11bc(0x1c2)]),_0x129006[_0x4d11bc(0x19f)]);continue;case'23':yamlTemplate=await fs[_0x4d11bc(0x1ea)](path[_0x4d11bc(0x1c4)](__dirname,'..',_0x129006['caEVn'],_0x129006[_0x4d11bc(0x2b2)],_0x129006[_0x4d11bc(0x1bd)]),_0x129006[_0x4d11bc(0x19f)]);continue;case'24':const _0x109adc={};_0x109adc['namespace']=_0x129006[_0x4d11bc(0x293)],_0x109adc[_0x4d11bc(0x244)]=templateBody,await _0xe678a9['createNamespacedService'](_0x109adc);continue;case'25':templateBody=yaml[_0x4d11bc(0x24a)](yamlTemplate);continue;case'26':logger['info'](_0x129006['dPliI']);continue;case'27':logger[_0x4d11bc(0x1d8)](_0x129006[_0x4d11bc(0x276)]);continue;case'28':templateBody=yaml[_0x4d11bc(0x24a)](yamlTemplate);continue;case'29':logger[_0x4d11bc(0x1d8)](_0x129006[_0x4d11bc(0x2a8)]);continue;case'30':const _0x4609a0={};_0x4609a0[_0x4d11bc(0x203)]=_0x129006['skZzV'],_0x4609a0['body']=templateBody,await _0x348b95[_0x4d11bc(0x274)](_0x4609a0);continue;case'31':const _0x416a77={};_0x416a77[_0x4d11bc(0x244)]=templateBody,await _0x5b1806[_0x4d11bc(0x1fd)](_0x416a77);continue;case'32':templateBody=yaml[_0x4d11bc(0x24a)](yamlTemplate);continue;case'33':yamlTemplate=await fs[_0x4d11bc(0x1ea)](path[_0x4d11bc(0x1c4)](__dirname,'..',_0x129006[_0x4d11bc(0x29e)],_0x129006[_0x4d11bc(0x2b2)],_0x129006[_0x4d11bc(0x1c1)]),_0x129006[_0x4d11bc(0x19f)]);continue;case'34':logger[_0x4d11bc(0x1d8)](_0x129006['rfjyk']);continue;case'35':yamlTemplate=await fs[_0x4d11bc(0x1ea)](path[_0x4d11bc(0x1c4)](__dirname,'..',_0x129006[_0x4d11bc(0x29e)],_0x129006[_0x4d11bc(0x2b2)],_0x129006[_0x4d11bc(0x1ce)]),_0x129006[_0x4d11bc(0x19f)]);continue;}break;}},exports[a28_0x920bef(0x189)]=async _0x32d582=>{const _0x27d10c=a28_0x920bef,_0x5831a2={};_0x5831a2[_0x27d10c(0x28f)]=_0x27d10c(0x2be),_0x5831a2[_0x27d10c(0x2c1)]='kube-system',_0x5831a2[_0x27d10c(0x1cc)]=function(_0x47bb73,_0x4a0c37){return _0x47bb73<_0x4a0c37;},_0x5831a2[_0x27d10c(0x2ca)]=function(_0x360b3f,_0xfb3372){return _0x360b3f===_0xfb3372;},_0x5831a2[_0x27d10c(0x29b)]=_0x27d10c(0x28b),_0x5831a2[_0x27d10c(0x1ac)]=function(_0x4edc8b,_0x203954){return _0x4edc8b===_0x203954;},_0x5831a2[_0x27d10c(0x1e2)]=_0x27d10c(0x236),_0x5831a2[_0x27d10c(0x245)]=function(_0x1941b2,_0x25a728){return _0x1941b2!==_0x25a728;},_0x5831a2[_0x27d10c(0x160)]='DwLsA';const _0x49bb5f=_0x5831a2,_0x295afa={};_0x295afa[_0x27d10c(0x203)]=_0x49bb5f[_0x27d10c(0x2c1)];const _0x20bcdc=await _0x32d582[_0x27d10c(0x1c6)](_0x295afa),_0x58bb54=_0x20bcdc?.[_0x27d10c(0x1cd)];for(let _0x15471d=0x0;_0x49bb5f[_0x27d10c(0x1cc)](_0x15471d,_0x58bb54[_0x27d10c(0x178)]);_0x15471d++){if(_0x49bb5f['byayc'](_0x49bb5f[_0x27d10c(0x29b)],_0x49bb5f[_0x27d10c(0x29b)])){if(_0x49bb5f['ujMZT'](_0x58bb54[_0x15471d][_0x27d10c(0x20b)][_0x27d10c(0x15f)],_0x49bb5f[_0x27d10c(0x1e2)])){if(_0x49bb5f[_0x27d10c(0x245)](_0x49bb5f['zesLM'],_0x49bb5f[_0x27d10c(0x160)]))_0x1a0190=_0x49bb5f[_0x27d10c(0x28f)];else return!![];}}else throw _0x4dc021;}return![];},exports[a28_0x920bef(0x1dc)]=async(_0xde4dfa,_0x1862c3)=>{const _0x35cbb1=a28_0x920bef,_0x1fcb36={};_0x1fcb36[_0x35cbb1(0x285)]=function(_0x4af5ae,_0x2a54f3){return _0x4af5ae!==_0x2a54f3;},_0x1fcb36[_0x35cbb1(0x196)]='BzwaR',_0x1fcb36[_0x35cbb1(0x1be)]=function(_0x5d1aa7,_0x9a3ca0){return _0x5d1aa7!==_0x9a3ca0;},_0x1fcb36[_0x35cbb1(0x1d4)]=_0x35cbb1(0x19c);const _0x165179=_0x1fcb36;try{if(_0x165179[_0x35cbb1(0x285)](_0x165179['EmoHt'],_0x165179[_0x35cbb1(0x196)]))return!![];else{const _0x57171d={};_0x57171d[_0x35cbb1(0x15f)]=_0x1862c3;const _0x50efa7=await _0xde4dfa[_0x35cbb1(0x2c2)](_0x57171d);return!![];}}catch(_0x2a0b48){if(_0x165179[_0x35cbb1(0x1be)](_0x165179[_0x35cbb1(0x1d4)],_0x165179['BUGlq']))_0x25a29c=_0x381693[_0x35cbb1(0x170)](/<GridProfileID>/g,'');else return![];}},exports['getNamespaceUID']=async(_0x4e2339,_0x51a022)=>{const _0x3aa5b1=a28_0x920bef,_0x116705={};_0x116705[_0x3aa5b1(0x22f)]=function(_0x4e75bd,_0x72d8be){return _0x4e75bd!==_0x72d8be;},_0x116705[_0x3aa5b1(0x265)]=_0x3aa5b1(0x16e),_0x116705[_0x3aa5b1(0x26b)]=_0x3aa5b1(0x210),_0x116705[_0x3aa5b1(0x177)]=function(_0x4b32be,_0x6385a3){return _0x4b32be===_0x6385a3;},_0x116705[_0x3aa5b1(0x29f)]='Ceapa',_0x116705[_0x3aa5b1(0x286)]='123456';const _0x13d8aa=_0x116705;try{if(_0x13d8aa[_0x3aa5b1(0x22f)](_0x13d8aa[_0x3aa5b1(0x265)],_0x13d8aa['mErkh'])){const _0x22dc2e={};_0x22dc2e['name']=_0x51a022;const _0x4fe9f3=await _0x4e2339[_0x3aa5b1(0x2c2)](_0x22dc2e),_0x32b292=_0x4fe9f3?.[_0x3aa5b1(0x20b)]?.['uid'];return _0x32b292;}else _0x4e9160[_0x3aa5b1(0x21c)](_0x54a8e6['message']);}catch(_0x14e131){if(_0x13d8aa[_0x3aa5b1(0x177)](_0x13d8aa[_0x3aa5b1(0x29f)],_0x13d8aa[_0x3aa5b1(0x29f)]))return _0x13d8aa[_0x3aa5b1(0x286)];else _0x58c5bf=_0x1f96b7[_0x3aa5b1(0x170)](/<GridProfileID>/g,_0x275eb4[_0x3aa5b1(0x1e9)]);}},exports[a28_0x920bef(0x25e)]=async(_0x184db5,_0x47157e,_0x3faecf,_0x412a07,_0x3ca0b3,_0x53b15e,_0x4b3e42,_0x2574d7,_0x32c8dd,_0x4672e1={},_0x55a5a7)=>{const _0x1db052=a28_0x920bef,_0x42f9a1={'SVqTU':function(_0x9d969a,_0x5b95b7){return _0x9d969a===_0x5b95b7;},'sfwAE':_0x1db052(0x236),'HLIgz':function(_0x3d0390,_0x1dffe5){return _0x3d0390===_0x1dffe5;},'vdkhs':_0x1db052(0x29a),'UqYDm':function(_0x3a81c5,_0x310d0e,_0x219060){return _0x3a81c5(_0x310d0e,_0x219060);},'bcGSR':_0x1db052(0x1ad),'ENdlk':'Added\x20clusterrolebinding','EmfdG':function(_0x3378b6,_0x546c84){return _0x3378b6!=_0x546c84;},'IDKoF':function(_0x24705e,_0x5f464e){return _0x24705e!==_0x5f464e;},'CxnVt':_0x1db052(0x2b5),'WKsfy':'YUAcw','ZhNhY':_0x1db052(0x254),'pGxNy':_0x1db052(0x174),'pHPwe':'mFzlr','fddDZ':_0x1db052(0x1b3),'rSmns':'Added\x20MetricsServer\x20Components','tmqKa':function(_0x15a96b,_0x524474){return _0x15a96b===_0x524474;},'zlWSk':_0x1db052(0x1ec),'fwWvp':_0x1db052(0x204),'iejKo':_0x1db052(0x21f),'qsSJb':function(_0x3545d7,_0x3b38e0,_0x3ae0b1,_0x11cd85){return _0x3545d7(_0x3b38e0,_0x3ae0b1,_0x11cd85);},'dmxtr':_0x1db052(0x267),'uSmcJ':_0x1db052(0x223),'higjt':function(_0x935bbc,_0x24e39d){return _0x935bbc===_0x24e39d;},'sACwz':function(_0x171b73,_0x255708){return _0x171b73!==_0x255708;},'RRLcf':_0x1db052(0x23a),'hgGvs':_0x1db052(0x1d5),'qVasb':function(_0x493894,_0x1b45b7,_0x3fc238,_0x4553d3){return _0x493894(_0x1b45b7,_0x3fc238,_0x4553d3);},'hxYlH':_0x1db052(0x169),'AQAFS':_0x1db052(0x2ae),'KJUar':_0x1db052(0x298),'nCmRT':_0x1db052(0x28a),'EMeRX':function(_0x23af64,_0x5195d7,_0x6f6c3e){return _0x23af64(_0x5195d7,_0x6f6c3e);},'tHkxT':_0x1db052(0x24e),'RTSWC':_0x1db052(0x287),'PcKQj':_0x1db052(0x20f),'hqdzU':function(_0x50526,_0x573ee3,_0x4443c6){return _0x50526(_0x573ee3,_0x4443c6);},'dxHLM':_0x1db052(0x1d7),'nAXss':'Added\x20browser-node-role-binding\x20role\x20binding','PXlLo':function(_0x4c3a9c,_0x3b3db3){return _0x4c3a9c===_0x3b3db3;},'mNnCh':'ingress-nginx','elrYu':_0x1db052(0x1f8),'tjsJe':_0x1db052(0x1ba),'COORz':_0x1db052(0x1e1),'aIQeg':'helper.yaml','ZEVUm':_0x1db052(0x252),'xSdYj':_0x1db052(0x2ce),'AqZvz':'Adding\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','YZofv':'Added\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','oUtqz':_0x1db052(0x187),'xbQwF':_0x1db052(0x2d2),'xVGWG':function(_0x1c9ade,_0x291384,_0x1ceb59){return _0x1c9ade(_0x291384,_0x1ceb59);},'DPmlj':function(_0x68fd12,_0x5771e6,_0x3ae2dd){return _0x68fd12(_0x5771e6,_0x3ae2dd);},'qGbaF':_0x1db052(0x22d),'NaTGi':_0x1db052(0x24f),'MUCOz':function(_0x437efa,_0x1985af){return _0x437efa===_0x1985af;},'pdoos':_0x1db052(0x2be),'CiOzE':_0x1db052(0x299),'sVdyd':_0x1db052(0x182),'xhfnD':function(_0x3bd02a,_0x34f104,_0x1d28b6){return _0x3bd02a(_0x34f104,_0x1d28b6);},'WaLRn':_0x1db052(0x21e),'xGtWP':'0|4|2|1|3','UySew':_0x1db052(0x27c),'shbmN':_0x1db052(0x25d),'YZiUG':_0x1db052(0x28c),'TtMXU':'cert-manager','cMFZc':'9|1|8|13|5|2|11|10|4|12|3|7|15|14|6|0','kveNM':_0x1db052(0x205),'xsMWI':_0x1db052(0x272),'ZuYXk':_0x1db052(0x216),'JMCzi':function(_0x17cb1c,_0x581524){return _0x17cb1c(_0x581524);},'KlWLS':_0x1db052(0x250),'MZQnn':_0x1db052(0x21d),'jCthN':_0x1db052(0x2d4),'gJiEm':_0x1db052(0x162),'OJuSv':_0x1db052(0x163),'WAwMi':function(_0x2cd3f5,_0x1fca2d,_0x1b5850){return _0x2cd3f5(_0x1fca2d,_0x1b5850);},'JGhbT':_0x1db052(0x207),'HTtSx':_0x1db052(0x16d),'evVNE':_0x1db052(0x288),'YaSWV':_0x1db052(0x2b7),'gBAXq':_0x1db052(0x23b),'PTjuv':function(_0x1c337c,_0x41619b,_0x469924){return _0x1c337c(_0x41619b,_0x469924);},'idPRx':_0x1db052(0x164),'gwApp':'Adding\x20hubservice','TzGvj':_0x1db052(0x230),'XucIr':'Added\x20hubservice','ADGHS':'Adding\x20hubdeployment','slsgV':function(_0x531f2b,_0x80fc63,_0x29cd5c){return _0x531f2b(_0x80fc63,_0x29cd5c);},'RRmbI':_0x1db052(0x26c),'nXYeM':_0x1db052(0x1f0),'SzvaH':'Adding\x20Ingress','YakcF':_0x1db052(0x26e),'xavxr':'nginx-private','suDFg':_0x1db052(0x28d)};let _0x217cd4=null;logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x258)]),_0x217cd4=await _0x42f9a1['UqYDm'](applyTemplate,_0x42f9a1[_0x1db052(0x23c)],_0x3ca0b3);const _0x1904d9={};_0x1904d9[_0x1db052(0x244)]=_0x217cd4,await _0x412a07[_0x1db052(0x1fd)](_0x1904d9),logger[_0x1db052(0x1d8)](_0x42f9a1['ENdlk']);if(_0x42f9a1[_0x1db052(0x183)](_0x4b3e42,null)&&_0x42f9a1['IDKoF'](_0x4b3e42,undefined)){if(_0x42f9a1[_0x1db052(0x2cf)](_0x42f9a1[_0x1db052(0x21b)],_0x42f9a1[_0x1db052(0x283)]))logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x2b6)]),await this[_0x1db052(0x2b4)](_0x184db5,_0x47157e,_0x3faecf,_0x412a07,_0x3ca0b3,_0x53b15e,_0x4b3e42),logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x20c)]);else{if(_0x42f9a1[_0x1db052(0x18c)](_0xe28cf3[_0x4a6970][_0x1db052(0x20b)][_0x1db052(0x15f)],_0x42f9a1[_0x1db052(0x2af)]))return!![];}}const _0x3429d4=await this[_0x1db052(0x189)](_0x184db5);if(!_0x3429d4){if(_0x42f9a1[_0x1db052(0x18c)](_0x42f9a1[_0x1db052(0x1c3)],_0x42f9a1['pHPwe']))logger['info'](_0x42f9a1[_0x1db052(0x190)]),await this[_0x1db052(0x2c6)](_0x184db5,_0x47157e,_0x412a07,_0x2574d7),logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x175)]);else return![];}try{if(_0x42f9a1[_0x1db052(0x172)](_0x42f9a1[_0x1db052(0x179)],_0x42f9a1[_0x1db052(0x240)])){const _0x39d208={};_0x39d208[_0x1db052(0x1a6)]=''+_0x1cd4f7['clientId'];const _0x22eaf9={'annotations':_0x39d208,..._0x2f0802[_0x1db052(0x20b)]};_0x385d1d[_0x1db052(0x20b)]=_0x22eaf9;}else{logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x224)]),_0x217cd4=await _0x42f9a1[_0x1db052(0x23f)](applyTemplate,_0x42f9a1[_0x1db052(0x243)],_0x3ca0b3,_0x4672e1);const _0x5019b9={};_0x5019b9[_0x1db052(0x203)]=_0x3ca0b3,_0x5019b9['body']=_0x217cd4,await _0x184db5['createNamespacedServiceAccount'](_0x5019b9),logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x1d0)]);if(_0x42f9a1[_0x1db052(0x22a)](global_registry[_0x1db052(0x1b9)],AZURE)){if(_0x42f9a1[_0x1db052(0x206)](_0x42f9a1[_0x1db052(0x2a4)],_0x42f9a1[_0x1db052(0x2a4)])){if(_0x42f9a1[_0x1db052(0x24b)](_0xe63c06['statusCode'],0x199)||_0x42f9a1['HLIgz'](_0x53b9e3[_0x1db052(0x1e7)],0x199))_0x1a31d6[_0x1db052(0x21c)](_0x22440d['message']);else throw _0x1d10dd;}else{logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x28e)]),_0x217cd4=await _0x42f9a1[_0x1db052(0x185)](applyTemplate,_0x42f9a1['hxYlH'],_0x3ca0b3,_0x4672e1);const _0xe8caa={};_0xe8caa[_0x1db052(0x15f)]=_0x42f9a1[_0x1db052(0x2ad)],_0xe8caa[_0x1db052(0x203)]=_0x3ca0b3,_0xe8caa[_0x1db052(0x244)]=_0x217cd4,await _0x184db5[_0x1db052(0x1b0)](_0xe8caa),logger[_0x1db052(0x1d8)](_0x42f9a1['KJUar']);}}logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x269)]),_0x217cd4=await _0x42f9a1[_0x1db052(0x19a)](applyTemplate,_0x42f9a1[_0x1db052(0x27b)],_0x3ca0b3);const _0x1fd78c={};_0x1fd78c[_0x1db052(0x244)]=_0x217cd4,await _0x412a07['createClusterRole'](_0x1fd78c),logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x2a9)]),logger[_0x1db052(0x1d8)](_0x42f9a1['PcKQj']),_0x217cd4=await _0x42f9a1[_0x1db052(0x23d)](applyTemplate,_0x42f9a1[_0x1db052(0x17e)],_0x3ca0b3);const _0x323bf1={};_0x323bf1[_0x1db052(0x244)]=_0x217cd4,await _0x412a07[_0x1db052(0x1fd)](_0x323bf1),logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x1c9)]);}}catch(_0x356cac){if(_0x42f9a1['tmqKa'](_0x356cac[_0x1db052(0x16f)],0x199)||_0x42f9a1[_0x1db052(0x1dd)](_0x356cac[_0x1db052(0x1e7)],0x199))logger[_0x1db052(0x21c)](_0x356cac[_0x1db052(0x202)]);else throw _0x356cac;}const _0x285ca8=await this[_0x1db052(0x1dc)](_0x184db5,_0x42f9a1[_0x1db052(0x226)]);if(!_0x285ca8){const _0x3474db=_0x42f9a1[_0x1db052(0x2c4)][_0x1db052(0x1e8)]('|');let _0x33a225=0x0;while(!![]){switch(_0x3474db[_0x33a225++]){case'0':_0x217cd4=yaml[_0x1db052(0x1f9)](yamlTemplate);continue;case'1':yamlTemplate=await fs[_0x1db052(0x1ea)](path['join'](__dirname,'..',_0x42f9a1['tjsJe'],_0x42f9a1['COORz'],_0x42f9a1[_0x1db052(0x1af)]),_0x42f9a1[_0x1db052(0x2a7)]);continue;case'2':logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x2ac)]);continue;case'3':logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x1b6)]);continue;case'4':logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x292)]);continue;case'5':logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x241)]);continue;case'6':yamlTemplate=await fs[_0x1db052(0x1ea)](path[_0x1db052(0x1c4)](__dirname,'..',_0x42f9a1[_0x1db052(0x181)],_0x42f9a1[_0x1db052(0x1e0)],_0x42f9a1['xbQwF']),_0x42f9a1[_0x1db052(0x2a7)]);continue;case'7':await _0x42f9a1['xVGWG'](kubeApply,_0x217cd4,_0x32c8dd);continue;case'8':await _0x42f9a1[_0x1db052(0x16a)](kubeApply,_0x217cd4,_0x32c8dd);continue;case'9':_0x217cd4=yaml[_0x1db052(0x1f9)](yamlTemplate);continue;}break;}}if(global_registry['isPrivateGrid']){logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x20d)]);let _0x36cc68;if(_0x42f9a1['PXlLo'](global_registry[_0x1db052(0x1b9)],AZURE))_0x36cc68=_0x42f9a1[_0x1db052(0x22b)];else _0x42f9a1[_0x1db052(0x18b)](global_registry[_0x1db052(0x1b9)],GCP)?_0x36cc68=_0x42f9a1[_0x1db052(0x296)]:_0x36cc68=_0x42f9a1[_0x1db052(0x1fb)];yamlTemplate=await fs[_0x1db052(0x1ea)](path[_0x1db052(0x1c4)](__dirname,'..',_0x42f9a1[_0x1db052(0x181)],_0x42f9a1[_0x1db052(0x1e0)],_0x42f9a1['sVdyd']),_0x42f9a1[_0x1db052(0x2a7)]),yamlTemplate=yamlTemplate['replace'](/<InternalLoadBalancerAnnotations>/g,_0x36cc68),_0x217cd4=yaml[_0x1db052(0x1f9)](yamlTemplate),await _0x42f9a1['xhfnD'](kubeApply,_0x217cd4,_0x32c8dd),logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x271)]);}if(global_registry[_0x1db052(0x21a)]){const _0x169678=_0x42f9a1['xGtWP'][_0x1db052(0x1e8)]('|');let _0x4263e5=0x0;while(!![]){switch(_0x169678[_0x4263e5++]){case'0':logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x242)]);continue;case'1':await _0x42f9a1[_0x1db052(0x161)](kubeApply,_0x217cd4,_0x32c8dd);continue;case'2':_0x217cd4=yaml[_0x1db052(0x1f9)](yamlTemplate);continue;case'3':logger['info'](_0x42f9a1[_0x1db052(0x197)]);continue;case'4':yamlTemplate=await fs[_0x1db052(0x1ea)](path[_0x1db052(0x1c4)](__dirname,'..',_0x42f9a1[_0x1db052(0x181)],_0x42f9a1['YZiUG']),_0x42f9a1[_0x1db052(0x2a7)]);continue;}break;}}const _0x4f4775=await this[_0x1db052(0x1dc)](_0x184db5,_0x42f9a1[_0x1db052(0x260)]);if(!_0x4f4775){const _0x5ddcec=_0x42f9a1[_0x1db052(0x1a1)][_0x1db052(0x1e8)]('|');let _0x2ea304=0x0;while(!![]){switch(_0x5ddcec[_0x2ea304++]){case'0':logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x1ca)]);continue;case'1':yamlTemplate=await fs[_0x1db052(0x1ea)](path[_0x1db052(0x1c4)](__dirname,'..',_0x42f9a1['tjsJe'],_0x42f9a1[_0x1db052(0x260)],_0x42f9a1[_0x1db052(0x2c8)]),_0x42f9a1[_0x1db052(0x2a7)]);continue;case'2':logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x19b)]);continue;case'3':await _0x42f9a1[_0x1db052(0x246)](delay,0x2710);continue;case'4':await _0x42f9a1['hqdzU'](kubeApply,_0x217cd4,_0x32c8dd);continue;case'5':logger['info'](_0x42f9a1[_0x1db052(0x294)]);continue;case'6':await _0x42f9a1[_0x1db052(0x19a)](kubeApply,_0x217cd4,_0x32c8dd);continue;case'7':logger[_0x1db052(0x1d8)](_0x42f9a1['MZQnn']);continue;case'8':_0x217cd4=yaml[_0x1db052(0x1f9)](yamlTemplate);continue;case'9':logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x239)]);continue;case'10':_0x217cd4=yaml[_0x1db052(0x1f9)](yamlTemplate);continue;case'11':yamlTemplate=await fs[_0x1db052(0x1ea)](path[_0x1db052(0x1c4)](__dirname,'..',_0x42f9a1[_0x1db052(0x181)],_0x42f9a1[_0x1db052(0x260)],_0x42f9a1[_0x1db052(0x1eb)]),_0x42f9a1['ZEVUm']);continue;case'12':logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x2a6)]);continue;case'13':await _0x42f9a1['WAwMi'](kubeApply,_0x217cd4,_0x32c8dd);continue;case'14':_0x217cd4=yaml['loadAll'](yamlTemplate);continue;case'15':yamlTemplate=await fs[_0x1db052(0x1ea)](path[_0x1db052(0x1c4)](__dirname,'..',_0x42f9a1[_0x1db052(0x181)],_0x42f9a1[_0x1db052(0x260)],_0x42f9a1['JGhbT']),_0x42f9a1[_0x1db052(0x2a7)]);continue;}break;}}const _0x36da47=await this[_0x1db052(0x1dc)](_0x184db5,_0x42f9a1[_0x1db052(0x186)]);if(!_0x36da47){const _0x5d1dc7=_0x42f9a1[_0x1db052(0x232)]['split']('|');let _0x568aa3=0x0;while(!![]){switch(_0x5d1dc7[_0x568aa3++]){case'0':yamlTemplate=await fs[_0x1db052(0x1ea)](path[_0x1db052(0x1c4)](__dirname,'..',_0x42f9a1['tjsJe'],_0x42f9a1[_0x1db052(0x297)]),_0x42f9a1[_0x1db052(0x2a7)]);continue;case'1':yamlTemplate=yamlTemplate[_0x1db052(0x170)](/<BstackURL>/g,AG_API_URL);continue;case'2':logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x1de)]);continue;case'3':yamlTemplate=yamlTemplate[_0x1db052(0x170)](/<BstackAccessKey>/g,global_registry[_0x1db052(0x264)]);continue;case'4':await _0x42f9a1['PTjuv'](kubeApply,_0x217cd4,_0x32c8dd);continue;case'5':_0x217cd4=yaml[_0x1db052(0x1f9)](yamlTemplate);continue;case'6':logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x222)]);continue;case'7':yamlTemplate=yamlTemplate[_0x1db052(0x170)](/<BstackUsername>/g,global_registry[_0x1db052(0x1e5)]);continue;}break;}}logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x18d)]),_0x217cd4=await _0x42f9a1[_0x1db052(0x23d)](applyTemplate,_0x42f9a1['TzGvj'],_0x3ca0b3);const _0x379ed8={};_0x379ed8['namespace']=_0x3ca0b3,_0x379ed8[_0x1db052(0x244)]=_0x217cd4,await _0x184db5[_0x1db052(0x1a5)](_0x379ed8),logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x1f1)]),logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x1b5)]),_0x217cd4=await _0x42f9a1[_0x1db052(0x23e)](applyTemplate,_0x42f9a1[_0x1db052(0x2b8)],_0x3ca0b3);const _0x5de3e1={};_0x5de3e1[_0x1db052(0x203)]=_0x3ca0b3,_0x5de3e1[_0x1db052(0x244)]=_0x217cd4,await _0x47157e['createNamespacedDeployment'](_0x5de3e1),logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x2cd)]),logger['info'](_0x42f9a1[_0x1db052(0x263)]),yamlTemplate=await fs[_0x1db052(0x1ea)](path[_0x1db052(0x1c4)](__dirname,'..',_0x42f9a1[_0x1db052(0x181)],_0x42f9a1[_0x1db052(0x188)]),_0x42f9a1['ZEVUm']);let _0x30885e=global_registry['isPrivateGrid']?_0x42f9a1[_0x1db052(0x1c0)]:_0x42f9a1[_0x1db052(0x1e0)];yamlTemplate=yamlTemplate['replace'](/<GridNamespace>/g,_0x3ca0b3),yamlTemplate=yamlTemplate[_0x1db052(0x170)](/<NginxIngressClass>/g,_0x30885e),_0x217cd4=yaml['loadAll'](yamlTemplate),await _0x42f9a1['UqYDm'](kubeApply,_0x217cd4,_0x32c8dd),logger[_0x1db052(0x1d8)](_0x42f9a1[_0x1db052(0x22c)]),await _0x42f9a1['JMCzi'](delay,0x2710);},exports[a28_0x920bef(0x219)]=async(_0xed140c,_0x492be8,_0x5c4528,_0xf1cf16,_0x480805)=>{const _0x96a6=a28_0x920bef,_0xd3750d={'NNXgI':_0x96a6(0x1f4),'LVCEe':function(_0x5a0e0f,_0x453ff8){return _0x5a0e0f(_0x453ff8);},'lvqQq':_0x96a6(0x1ab),'LwQGb':_0x96a6(0x238),'TbqMx':_0x96a6(0x215),'efPcU':_0x96a6(0x1b8)},_0x4957fe=_0xd3750d['NNXgI']['split']('|');let _0x177b4e=0x0;while(!![]){switch(_0x4957fe[_0x177b4e++]){case'0':await _0xd3750d[_0x96a6(0x1f6)](delay,0x2710);continue;case'1':const _0x2fb2e9={};_0x2fb2e9[_0x96a6(0x15f)]=_0x480805,await _0xed140c[_0x96a6(0x201)](_0x2fb2e9);continue;case'2':logger[_0x96a6(0x1d8)](_0xd3750d['lvqQq']);continue;case'3':logger[_0x96a6(0x1d8)](_0xd3750d[_0x96a6(0x290)]);continue;case'4':logger[_0x96a6(0x1d8)](_0xd3750d[_0x96a6(0x262)]);continue;case'5':logger['info'](_0xd3750d['efPcU']);continue;case'6':const _0x1baea6={};_0x1baea6[_0x96a6(0x15f)]=_0x96a6(0x1a2)+_0x480805,await _0xf1cf16['deleteClusterRoleBinding'](_0x1baea6);continue;}break;}},exports[a28_0x920bef(0x1b1)]=async _0x24594e=>{const _0xa3e933=a28_0x920bef,_0xbc8ab9={};_0xbc8ab9['FVflS']=_0xa3e933(0x16d),_0xbc8ab9[_0xa3e933(0x2d3)]=_0xa3e933(0x25c),_0xbc8ab9[_0xa3e933(0x17c)]=_0xa3e933(0x2c0);const _0x24bc6b=_0xbc8ab9,_0x230c43=await this[_0xa3e933(0x1dc)](_0x24594e,_0x24bc6b[_0xa3e933(0x2d5)]);if(_0x230c43){logger[_0xa3e933(0x1d8)](_0x24bc6b['tFALu']);const _0x2e9f34={};_0x2e9f34[_0xa3e933(0x15f)]=_0x24bc6b['FVflS'],await _0x24594e[_0xa3e933(0x201)](_0x2e9f34),logger[_0xa3e933(0x1d8)](_0x24bc6b['wvWMs']);}},exports[a28_0x920bef(0x1c8)]=async _0x1d3cb8=>{const _0xb361fc=a28_0x920bef,_0x2a15f2={'hJmex':_0xb361fc(0x198),'odrzN':_0xb361fc(0x195),'SVzON':_0xb361fc(0x27e),'Tlbpe':function(_0x827414,_0x39a0c1){return _0x827414(_0x39a0c1);},'dXjXF':'cert-manager','sSqQQ':_0xb361fc(0x2bd),'LppZO':'Deleted\x20cert-manager','LDwSZ':function(_0xb45f40,_0x259cb8){return _0xb45f40(_0x259cb8);}},_0x3a6d5e=await this['namespaceExists'](_0x1d3cb8,_0x2a15f2[_0xb361fc(0x167)]);if(_0x3a6d5e){logger[_0xb361fc(0x1d8)](_0x2a15f2[_0xb361fc(0x2c3)]);const _0x12857d={};_0x12857d[_0xb361fc(0x15f)]=_0x2a15f2['hJmex'],await _0x1d3cb8['deleteNamespace'](_0x12857d),logger['info'](_0x2a15f2[_0xb361fc(0x231)]);}await _0x2a15f2[_0xb361fc(0x16c)](delay,0x124f8);const _0x3c8f3c=await this[_0xb361fc(0x1dc)](_0x1d3cb8,_0x2a15f2['dXjXF']);if(_0x3c8f3c){logger[_0xb361fc(0x1d8)](_0x2a15f2[_0xb361fc(0x1df)]);const _0x236a19={};_0x236a19[_0xb361fc(0x15f)]=_0x2a15f2[_0xb361fc(0x25f)],await _0x1d3cb8[_0xb361fc(0x201)](_0x236a19),logger[_0xb361fc(0x1d8)](_0x2a15f2[_0xb361fc(0x268)]);}await _0x2a15f2[_0xb361fc(0x176)](delay,0xafc8);},exports[a28_0x920bef(0x282)]=async _0x20ef32=>{const _0x35e2da=a28_0x920bef,_0x30c91a={'RnrCh':function(_0x3e5bef,_0x92a5be){return _0x3e5bef(_0x92a5be);},'dIRCu':'Deleted\x20cluster\x20and\x20linked\x20resources\x20successfully'};logger[_0x35e2da(0x1d8)](_0x35e2da(0x193)+CLUSTER_DEP_STACK_NAME+_0x35e2da(0x289)+CLUSTER_AUTOSCALER_STACK_NAME+_0x35e2da(0x261)+_0x20ef32),await Promise[_0x35e2da(0x221)]([_0x30c91a[_0x35e2da(0x192)](deleteClusterStack,CLUSTER_DEP_STACK_NAME),_0x30c91a[_0x35e2da(0x192)](deleteClusterStack,CLUSTER_AUTOSCALER_STACK_NAME)]),logger[_0x35e2da(0x1d8)](_0x30c91a[_0x35e2da(0x25a)]);},exports[a28_0x920bef(0x213)]=async(_0x4ea491,_0x5025fb)=>{const _0xa9736f=a28_0x920bef,_0x275712={};_0x275712[_0xa9736f(0x1a4)]=_0xa9736f(0x1e6),_0x275712[_0xa9736f(0x19e)]=_0xa9736f(0x2b1),_0x275712[_0xa9736f(0x165)]=_0xa9736f(0x22e);const _0x17dee2=_0x275712;logger[_0xa9736f(0x1d8)](_0x17dee2[_0xa9736f(0x1a4)]);const _0x101f51={};_0x101f51['name']=_0x17dee2[_0xa9736f(0x19e)],_0x101f51[_0xa9736f(0x203)]=_0x5025fb;const _0x421743=await _0x4ea491[_0xa9736f(0x2bf)](_0x101f51);_0x421743[_0xa9736f(0x278)][_0xa9736f(0x220)]=0x1;const _0x287840={};_0x287840[_0xa9736f(0x15f)]=_0x17dee2[_0xa9736f(0x19e)],_0x287840[_0xa9736f(0x203)]=_0x5025fb,_0x287840[_0xa9736f(0x244)]=_0x421743,await _0x4ea491[_0xa9736f(0x266)](_0x287840),logger[_0xa9736f(0x1d8)](_0x17dee2[_0xa9736f(0x165)]);},exports[a28_0x920bef(0x20e)]=async(_0x3aff46,_0x2887e9)=>{const _0x2a6ff3=a28_0x920bef,_0x57abaa={};_0x57abaa[_0x2a6ff3(0x257)]=_0x2a6ff3(0x228),_0x57abaa[_0x2a6ff3(0x27a)]=_0x2a6ff3(0x2b1),_0x57abaa[_0x2a6ff3(0x1f7)]=_0x2a6ff3(0x2c5);const _0x12253c=_0x57abaa;logger['info'](_0x12253c[_0x2a6ff3(0x257)]);const _0x3f6ff7={};_0x3f6ff7[_0x2a6ff3(0x15f)]=_0x12253c[_0x2a6ff3(0x27a)],_0x3f6ff7['namespace']=_0x2887e9;const _0x15a3ab=await _0x3aff46[_0x2a6ff3(0x2bf)](_0x3f6ff7);_0x15a3ab['spec'][_0x2a6ff3(0x220)]=0x0;const _0x366e6d={};_0x366e6d[_0x2a6ff3(0x15f)]=_0x12253c[_0x2a6ff3(0x27a)],_0x366e6d[_0x2a6ff3(0x203)]=_0x2887e9,_0x366e6d[_0x2a6ff3(0x244)]=_0x15a3ab,await _0x3aff46[_0x2a6ff3(0x266)](_0x366e6d),logger[_0x2a6ff3(0x1d8)](_0x12253c[_0x2a6ff3(0x1f7)]);};